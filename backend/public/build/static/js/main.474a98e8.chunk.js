(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{199:function(e,t,a){e.exports=a(387)},204:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(31),c=a.n(l),i=(a(204),a(40)),o=a(41),s=a(7),u=a.n(s),m=a(23),d=a(12),p=a(389),b=a(95),f=a(50),E=a.n(f),h=E.a.create({baseURL:"/api/rifas",withCredentials:!0}),g=function(){return h.get("/myrifas")},y=function(){return h.get()},v=function(e,t){return h.get("/".concat(e),t)},j=function(e,t){return h.put("/".concat(e),t)},O=a(394),k=O.a.Meta;var x=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(O.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300,height:200},alt:"example",src:a}),actions:[n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(k,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))};var w=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c={fontSize:"3em",height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",backgroundImage:'url("./golden-gift-boxes.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"0",padding:"0"}},n.a.createElement(p.a,{autoplay:!0},n.a.createElement("div",null,n.a.createElement("h3",{style:c},"Vaquita. ")),n.a.createElement("div",null,n.a.createElement("h3",{style:{height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",background:"#364d79"}},"2")),n.a.createElement("div",null,n.a.createElement("h3",{style:c},"3")),n.a.createElement("div",null,n.a.createElement("h3",{style:c},"4"))),n.a.createElement("h1",null,"Buscar "),n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))))};var C=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Not found"))},P=a(395),I=a(402),F=a(107),N=a(390),T=E.a.create({baseURL:"/",withCredentials:!0}),S=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("/profile/edit/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0];function l(){return(l=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(a);case 2:t.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"signup"},n.a.createElement(P.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:r,onFinish:function(e){return l.apply(this,arguments)}}),n.a.createElement(P.a.Item,{name:"userName",label:"Nombre de Usuario:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"firstName",label:"Nombre:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"lastName",label:"Apellido:",rules:[{required:!0,message:"Please input a last name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"password2",label:"Confirmar contrase\xf1a:",rules:[{required:!0,message:"Please confirm password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,c,n.a.createElement(F.a,{style:{backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Signup"))),n.a.createElement(P.a.Item,c,n.a.createElement(N.a,null,"Or")),n.a.createElement(P.a.Item,c,n.a.createElement("a",{href:"/auth/google"},n.a.createElement(F.a,{style:{border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Signup with Google"))))}var A=a(403),D=Object(r.createContext)(),L=function(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1],i=function(e){return c(e)};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(l);case 2:t=e.sent,a=t.data,i(a),console.log(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(D.Provider,Object.assign({},e,{value:{user:l,setCtxUser:i,updateCtxUser:function(e){return c(e)},clearCtxUser:function(){return c(null)}}}))},z=function(){return Object(r.useContext)(D)};function V(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0],l=z().setCtxUser;function c(){return(c=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a);case 2:r=e.sent,delete(n=r.data.user).password,delete n.hash,delete n.salt,l(n),t.push("/profile");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"login"},n.a.createElement("div",null,n.a.createElement(P.a,Object.assign({className:"form-login"},{labelCol:{span:8},wrapperCol:{span:16}},{name:"basic",initialValues:{remember:!0},form:r,onFinish:function(e){return c.apply(this,arguments)}}),n.a.createElement(P.a.Item,{name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{name:"password",label:"Password:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,Object.assign({},i,{name:"remember",valuePropName:"checked"}),n.a.createElement(A.a,null,"Remember me")),n.a.createElement(P.a.Item,i,n.a.createElement(F.a,{style:{backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Log in")))),n.a.createElement("div",null,n.a.createElement(P.a.Item,i,n.a.createElement(N.a,null,"Or")),n.a.createElement(P.a.Item,i,n.a.createElement("a",{href:"http://localhost:3000/auth/google"},n.a.createElement(F.a,{style:{border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Login with Google")))))}var M=a(398),B=a(60),H=a(400),$=a(396),K=M.a.Title,G=(M.a.Paragraph,M.a.Text);function J(){var e=z().user;console.log(e);var t=Object(r.useState)({}),a=Object(d.a)(t,2),l=(a[0],a[1]);return Object(r.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(null===e||void 0===e?void 0:e._id);case 2:a=t.sent,r=a.data,l(r),console.log(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n.a.createElement(B.a,null,e?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(H.a,{size:128,src:n.a.createElement($.a,{src:null===e||void 0===e?void 0:e.image})})),n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(K,{level:3},"Welcome, ",e.userName),n.a.createElement(K,{level:5},"Nombre de usuario"),n.a.createElement(G,null,e.userName),n.a.createElement(K,{level:5},"Nombre"),n.a.createElement(G,null,e.firstName," ",e.lastName),n.a.createElement(K,{level:5},"Email"),n.a.createElement(G,null,e.email),n.a.createElement(K,{level:5},"Ciudad"),e.city?n.a.createElement(G,null,e.city):n.a.createElement(G,null,"Edit profile to add"),n.a.createElement(K,{level:5},"Country"),e.country?n.a.createElement(G,null,e.country):n.a.createElement(G,null,"Edit profile to add"))),n.a.createElement("br",null),n.a.createElement(i.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id)},n.a.createElement(F.a,{style:{borderRadius:100,width:200,border:"solid",borderColor:"#bedbbb",color:"#bedbbb"},block:!0},"Editar perfil"))):n.a.createElement(M.a.Title,{level:3},"Login pls"))}var Q=a(57),X=a(393),Y=a(406),Z=a(407),ee="https://api.cloudinary.com/v1_1/dj9edroyv/image/upload";function te(e){var t=e.history,a=z().user,l=z().updateCtxUser,c=P.a.useForm(),i=Object(d.a)(c,1)[0],o=Object(r.useState)(null),s=Object(d.a)(o,2),p=s[0],b=s[1],f=Object(r.useState)(null),h=Object(d.a)(f,2),g=h[0],y=h[1];function v(){return(v=Object(m.a)(u.a.mark((function e(r){var n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),n=Object(Q.a)(Object(Q.a)({},r),{},{image:p,_id:a._id,rifas:a.rifas,tickets:a.tickets}),console.log("FORM VALUES: ",{editUser:n}),e.next=5,q(a._id,n);case 5:c=e.sent,o=c.data,i.resetFields(),b(null),l(o),t.push("/profile");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post(ee,a);case 6:r=e.sent,n=r.data.secure_url,b(n),y(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n.a.createElement("div",null,g?n.a.createElement(Y.a,null):n.a.createElement(Z.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement("div",null,n.a.createElement(P.a,{layout:"vertical",form:i,onFinish:function(e){return v.apply(this,arguments)},initialValues:{email:a.email,userName:a.userName,firstName:a.firstName,lastName:a.lastName,googleID:a.googleID,city:a.city,country:a.country,image:a.image}},n.a.createElement(P.a.Item,{name:"image",label:"Profile Photo:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return j.apply(this,arguments)}},p?n.a.createElement("img",{src:p,style:{width:"100%"}}):O)),n.a.createElement(P.a.Item,{name:"userName",label:"Nombre de Usuario:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"firstName",label:"Nombre:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"lastName",label:"Apellido:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"email",label:"Nuevo email:"},n.a.createElement(I.a,null)),n.a.createElement(N.a,null),n.a.createElement(P.a.Item,{name:"city",label:"Ciudad:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"country",label:"Pa\xeds:"},n.a.createElement(I.a,null)),n.a.createElement(F.a,{type:"primary",block:!0,htmlType:"submit"},"Save Changes")))}var ae=a(195),re=a(405),ne=a(397),le=function(e){e.addRifa;var t=P.a.useForm(),a=Object(d.a)(t,1)[0],l=Object(r.useState)(null),c=Object(d.a)(l,2),i=c[0],o=c[1],s=Object(r.useState)(null),p=Object(d.a)(s,2),b=p[0],f=p[1],h=Object(r.useState)(1),g=Object(d.a)(h,2),y=g[0],v=g[1],j=Object(r.useState)(1),O=Object(d.a)(j,2),k=(O[0],O[1],Object(r.useState)(null)),x=Object(d.a)(k,2),w=x[0],C=x[1],T=Object(r.useState)(!1),S=Object(d.a)(T,2),R=S[0],U=S[1];function q(){return(q=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(Q.a)(Object(Q.a)({},t),{},{imageProduct:i}),console.log(a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,o(n),f(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=n.a.createElement("div",null,b?n.a.createElement(Y.a,null):n.a.createElement(Z.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload")),A=Object(r.useState)(null),D=Object(d.a)(A,2),L=(D[0],D[1]),z=Object(r.useState)(null),V=Object(d.a)(z,2),B=(V[0],V[1]),H=Object(r.useState)(!0),$=Object(d.a)(H,2),K=$[0],G=$[1];var J=Object(r.useState)(!1),ee=Object(d.a)(J,2),te=ee[0],ae=ee[1];function le(){ae(!te),U(!R)}Object(r.useEffect)((function(){L(w/5),B(w/100)}),[R]);return n.a.createElement("div",{className:"RifaForm"},n.a.createElement("h1",null,"Crea tu rifa!"),n.a.createElement("br",null),n.a.createElement(P.a,{form:a,style:{width:550,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"40px"},theme:"dark",layout:"vertical",onFinish:function(e){return q.apply(this,arguments)}},n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return _.apply(this,arguments)}},i?n.a.createElement("img",{src:i,style:{width:"100%"}}):W)),n.a.createElement(P.a.Item,{style:{color:"white"},name:"title",label:"Title:",rules:[{required:!0,message:"Please input a title"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:",rules:[{required:!0,message:"Please input a product name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"description",label:"Description:",rules:[{required:!0,message:"Please input a description"}]},n.a.createElement(I.a.TextArea,{showCount:!0,maxLength:120,rows:4,style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(N.a,null),n.a.createElement(P.a.Item,null,n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:",rules:[{validator:function(e){return w>0?(G(!1),Promise.resolve("")):(G(!0),Promise.reject("Price must be greater than zero!"))}},{type:"number",message:"Please input a valid number"},{required:!0,message:"Please input a product price"}]},n.a.createElement(re.a,{disabled:te,onChange:function(e){C(e),console.log("TOTAL PRICE: ",e),G(!(w>0&&"number"==typeof w))},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),te?n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",onClick:le},"Edit Product Price"):n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",disabled:K,onClick:le},"Next")),te&&n.a.createElement(P.a.Item,null,n.a.createElement(N.a,null),n.a.createElement(M.a.Paragraph,null,"Nuestra mision es que todos usuarios tengan oportunidad igual de participar en nuestras rifas. Asi que limitamos los precios de cada boleto hast $100USD"),n.a.createElement(ne.a,{style:{margin:"20px",marginBottom:"30px"},min:1,max:100,marks:{1:"$1 USD",100:"$100 USD"},onChange:function(e){v(e);var t=Math.floor(w/y);a.setFieldsValue({availableTickets:t,ticketPrice:w/t})},value:y,tooltipVisible:!1}),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:",rules:[{required:!0,message:"Please input a Available Tickets"}]},n.a.createElement(re.a,{onChange:function(e){v(w/e),a.setFieldsValue({ticketPrice:w/e})},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:",rules:[{required:!0,message:"Please input a Ticket Price"}]},n.a.createElement(re.a,{min:1,max:100,disabled:!0,style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}}))),n.a.createElement(N.a,null),n.a.createElement(F.a,{style:{borderRadius:100,width:200,border:"solid",borderColor:"#bedbbb",color:"white",backgroundColor:"#bedbbb"},type:"primary",size:"middle",htmlType:"submit"},"Create")))},ce=function(){z().user;var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(o.f)();return n.a.createElement("div",{style:{padding:"75px"}},n.a.createElement(le,{addRifa:function(e){l([].concat(Object(ae.a)(a),[e])),c.push("/rifas/myrifas")}}))},ie=a(408),oe=O.a.Meta;var se=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(O.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300,height:200},alt:"example",src:a}),actions:[n.a.createElement(ie.a,{key:"edit"}),n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(oe,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))},ue=M.a.Title,me=M.a.Text,de=function(){var e=z().user,t=Object(r.useState)([]),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e?n.a.createElement("div",null,n.a.createElement("h1",null,"Mis Rifas"),n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},l.map((function(e){return n.a.createElement(se,Object.assign({key:e.id},e))})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(ue,{level:1},"Fake"),n.a.createElement(me,{type:"secondary"},"Login or Signup"))},pe=a(399);function be(e){var t=e._id,a=e.title,l=e.description,c=e.productPrice,i=e.productName,o=e.imageProduct,s=e.ticketPrice,p=e.availableTickets,b=e.ownerID,f=Object(r.useState)({}),h=Object(d.a)(f,2),g=(h[0],h[1],z().user,P.a.useForm()),y=Object(d.a)(g,1)[0],v=Object(r.useState)(null),O=Object(d.a)(v,2),k=O[0],x=O[1],w=Object(r.useState)(null),C=Object(d.a)(w,2),N=C[0],T=C[1];function S(){return(S=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Q.a)(Object(Q.a)({},a),{},{imageProduct:k,ownerID:b}),e.next=3,j(t,r);case 3:n=e.sent,n.data,y.resetFields(),x(null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,x(n),T(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n.a.createElement("div",null,N?n.a.createElement(Y.a,null):n.a.createElement(Z.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:y,layout:"vertical",onFinish:function(e){return S.apply(this,arguments)},initialValues:{title:a,description:l,productPrice:c,productName:i,imageProduct:o,ticketPrice:s,availableTickets:p}},n.a.createElement(P.a.Item,{name:"title",label:"Title:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(re.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(re.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(re.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return R.apply(this,arguments)}},k?n.a.createElement("img",{src:k,style:{width:"100%"}}):U)),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Save Changes"))}var fe=E.a.create({baseURL:"/api/tickets",withCredentials:!0}),Ee=function(e){return fe.post("/bought-ticket/".concat(e))},he=function(){return fe.get("/rifas")},ge=function(){return fe.get("/winner-rifas")},ye=function(){return fe.get("/lost-rifas")},ve=function(e,t){return fe.get("/".concat(e),t)},je=M.a.Title,Oe=M.a.Text,ke=function(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],o=l[1],s=z().user,p=Object(r.useState)(!1),b=Object(d.a)(p,2),f=(b[0],b[1],Object(r.useState)(!1)),E=Object(d.a)(f,2),h=E[0],g=E[1],y=Object(r.useState)(!1),j=Object(d.a)(y,2),k=j[0],x=j[1],w=Object(r.useState)(null),C=Object(d.a)(w,2),P=(C[0],C[1],Object(r.useState)(null)),I=Object(d.a)(P,2),N=I[0],T=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:a=e.sent,r=a.data,console.log(r),T(!r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:a=e.sent,r=a.data,o(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k]);var S=!1;function R(){return(R=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Ee(t);case 3:x(!k),T(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&c.ownerID===s._id&&(S=!0);var U=c.title,q=c.imageProduct,_=c.description,W=c.productName,A=c.productPrice,D=c.availableTickets;return n.a.createElement(n.a.Fragment,null,U?n.a.createElement(O.a,{style:{width:400,flex:1,justifyContent:"center"},type:"inner",title:U},n.a.createElement("center",null,n.a.createElement(H.a,{src:q,style:{backgroundColor:"white"}}),n.a.createElement(je,{level:4},W),n.a.createElement(Oe,null,"Description: ",_),n.a.createElement("br",null),n.a.createElement(Oe,null," Ticket Price: ",A),n.a.createElement("br",null),n.a.createElement(Oe,null," Available Tickets: ",D),n.a.createElement("br",null),s?n.a.createElement(n.a.Fragment,null,S?n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{onClick:function(){return g(!h)}},"Editar"),n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null,N?n.a.createElement(F.a,{style:{borderRadius:100,border:"solid",color:"#bedbbb",margin:20},onClick:function(){return function(){return R.apply(this,arguments)}()}},"Comprar Boleto"):n.a.createElement(F.a,{style:{borderRadius:100,border:"solid",color:"#bedbbb"},disabled:!0},"Comprar Boleto"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(i.b,{to:"/signup"},n.a.createElement(F.a,{type:"primary"},"Sign up to buy")),n.a.createElement("p",null,"or"),n.a.createElement(i.b,{to:"/login"},n.a.createElement(F.a,{default:!0},"Log in")))),h&&n.a.createElement(be,c)):n.a.createElement(pe.a,{active:!0}))};function xe(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],i=l[1],s=(z().user,P.a.useForm()),p=Object(d.a)(s,1)[0],b=Object(o.f)(),f=Object(r.useState)(null),h=Object(d.a)(f,2),g=h[0],y=h[1],j=Object(r.useState)(null),O=Object(d.a)(j,2),k=O[0],x=O[1];function w(){return(w=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(Q.a)(Object(Q.a)({},a),{},{imageProduct:g}),console.log(r),p.resetFields(),y(null),b.push("/rifas/myrifas".concat(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,y(n),x(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:a=e.sent,r=a.data,i(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("RIFA CHECK 2",c);var N=n.a.createElement("div",null,k?n.a.createElement(Y.a,null):n.a.createElement(Z.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:p,layout:"vertical",onFinish:function(e){return w.apply(this,arguments)},initialValues:{title:c.title,description:c.description,productPrice:c.productPrice,productName:c.productName,imageProduct:c.imageProduct,ticketPrice:c.ticketPrice,availableTickets:c.availableTickets}},n.a.createElement(P.a.Item,{name:"title",label:"Title:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(re.a,null)),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(re.a,null)),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(re.a,null)),n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return C.apply(this,arguments)}},g?n.a.createElement("img",{src:g,style:{width:"100%"}}):N)),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))}var we=a(401),Ce=a(391),Pe=(M.a.Title,M.a.Text,we.a.Panel),Ie=function(){z().user;var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],p=Object(r.useState)(null),f=Object(d.a)(p,2),E=f[0],h=f[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,a=t.data,console.log("NOT FINISHED",a),h(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:t=e.sent,(a=t.data).length<1?l(null):l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:t=e.sent,a=t.data,console.log("LOSER RIFAS",a),s(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",null,n.a.createElement("h1",null,"Mis Tickets"),n.a.createElement(we.a,{bordered:!1,defaultActiveKey:["2"]},a&&n.a.createElement(Pe,{header:"\xa1Felicidades! Aqu\xed est\xe1n las rifas que has ganado",key:"1"},n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))})))),n.a.createElement(Pe,{header:"Rifas abiertas",key:"2"},E?n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},E.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))):n.a.createElement(Ce.a,{size:"large"})),n.a.createElement(Pe,{header:"Rifas cerradas",key:"3"},o?n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},o.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))):n.a.createElement(Ce.a,{size:"large"}))))},Fe=a(392),Ne=a(404),Te=Fe.a.Header,Se=Fe.a.Content,Re=Fe.a.Footer,Ue=function(e){var t=e.children,a=Object(o.f)(),r=z(),l=r.clearCtxUser,c=r.user;function s(){return(s=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:a.push("/login"),l();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement(Fe.a,{className:"layout"},n.a.createElement(Te,{style:{position:"fixed",height:65.5,zIndex:1e3,width:"100%",backgroundColor:"#8db596"}},n.a.createElement("div",{className:"logo"}),n.a.createElement(Ne.a,{style:{backgroundColor:"#8db596"},mode:"horizontal"},n.a.createElement(Ne.a.Item,{key:"1"},n.a.createElement("img",{style:{width:90},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"}),n.a.createElement(i.b,{to:"/"})),c?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ne.a.Item,{key:"2"},n.a.createElement(i.b,{to:"/profile"},"Perfil")),n.a.createElement(Ne.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/new/rifas"},"Crear Rifa")),n.a.createElement(Ne.a.Item,{key:"4"},n.a.createElement(i.b,{to:"/rifas/myrifas"},"Mis rifas")),n.a.createElement(Ne.a.Item,{key:"5"},n.a.createElement(i.b,{to:"/tickets/mytickets"},"Mis Tickets")),n.a.createElement(Ne.a.Item,{key:"6",onClick:function(){return s.apply(this,arguments)}},"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ne.a.Item,{key:"2"},n.a.createElement(i.b,{to:"/signup"},"Signup")),n.a.createElement(Ne.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/login"},"Login")))),n.a.createElement(Ne.a,{style:{backgroundColor:"#bedbbb"},mode:"horizontal"})),n.a.createElement("br",null),n.a.createElement(Se,{style:{padding:"50px 0",minHeight:"calc(100vh - 153.6px)"}},n.a.createElement("div",{className:"site-layout-content"},t)),n.a.createElement(Re,{style:{textAlign:"center"}},"Vaquita de la suerte ",n.a.createElement("img",{style:{width:40},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"})," ",n.a.createElement("br",null)," \xa92020 Created by Ayhan Konar & Karen Roth"))},qe=function(){return n.a.createElement(i.a,null,n.a.createElement(Ue,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/",component:w}),n.a.createElement(o.a,{exact:!0,path:"/signup",component:W}),n.a.createElement(o.a,{exact:!0,path:"/login",component:V}),n.a.createElement(o.a,{exact:!0,path:"/profile",component:J}),n.a.createElement(o.a,{exact:!0,path:"/profile/edit/:id",component:te}),n.a.createElement(o.a,{exact:!0,path:"/new/rifas",component:ce}),n.a.createElement(o.a,{exact:!0,path:"/rifas/myrifas",component:de}),n.a.createElement(o.a,{exact:!0,path:"/rifas/:rifaId",component:ke}),n.a.createElement(o.a,{exact:!0,path:"/rifas/edit/:rifaId",component:xe}),n.a.createElement(o.a,{exact:!0,path:"/tickets/mytickets",component:Ie}),n.a.createElement(o.a,{component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(386);c.a.render(n.a.createElement(L,null,n.a.createElement(qe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.474a98e8.chunk.js.map