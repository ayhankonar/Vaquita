(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{197:function(e,t,a){e.exports=a(376)},202:function(e,t,a){},376:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),i=(a(202),a(42)),u=a(39),s=a(7),o=a.n(s),m=a(15),p=a(11),d=a(88),f=a(47),E=a.n(f),b=E.a.create({baseURL:"/api/rifas",withCredentials:!0}),v=function(){return b.get("/myrifas")},h=function(){return b.get()},g=function(e,t){return b.get("/".concat(e),t)},y=function(e){return b.post("/new",e)},O=function(e,t){return b.put("/".concat(e),t)},j=a(385),w=a(382),k=a(387),x=j.a.Title;var P=function(e){var t=e.title,a=e.productName,n=e.description,l=e.imageProduct,c=e._id;return r.a.createElement(w.a,{type:"inner",title:t,extra:r.a.createElement(i.b,{to:"/rifas/".concat(c)},"Details"),style:{marginBottom:"8px"},hoverable:!0},r.a.createElement("center",null,r.a.createElement(k.a,{src:l,style:{backgroundColor:"white"}}),r.a.createElement(x,{level:4},a)),n)};var I=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Home"),r.a.createElement(d.a,{gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}))))};var T=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found"))},N=a(383),F=a(388),S=a(101),C=a(378),U=E.a.create({baseURL:"/",withCredentials:!0}),_=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("/profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.put("/profile/edit/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function A(e){var t=e.history,a=N.a.useForm(),n=Object(p.a)(a,1)[0];function l(){return(l=Object(m.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a);case 2:t.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(N.a,{layout:"vertical",form:n,onFinish:function(e){return l.apply(this,arguments)}},r.a.createElement(N.a.Item,{name:"userName",label:"Nombre de Usuario:",rules:[{required:!0,message:"Please input a name"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"firstName",label:"Nombre:",rules:[{required:!0,message:"Please input a name"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"lastName",label:"Apellido:",rules:[{required:!0,message:"Please input a last name"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},r.a.createElement(F.a.Password,null)),r.a.createElement(N.a.Item,{name:"password2",label:"Confirmar contrase\xf1a:",rules:[{required:!0,message:"Please confirm password"}]},r.a.createElement(F.a.Password,null)),r.a.createElement(S.a,{type:"primary",block:!0,htmlType:"submit"},"Signup")),r.a.createElement(C.a,null,"Or"),r.a.createElement("a",{href:"http://localhost:3000/auth/google"},r.a.createElement(S.a,{danger:!0,block:!0},"Signup with Google")))}var z=Object(n.createContext)(),H=function(e){var t=Object(n.useState)(null),a=Object(p.a)(t,2),l=a[0],c=a[1],i=function(e){return c(e)};return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(l);case 2:t=e.sent,a=t.data,i(a),console.log(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(z.Provider,Object.assign({},e,{value:{user:l,setCtxUser:i,updateCtxUser:function(e){return c(e)},clearCtxUser:function(){return c(null)}}}))},B=function(){return Object(n.useContext)(z)};function V(e){var t=e.history,a=N.a.useForm(),n=Object(p.a)(a,1)[0],l=B().setCtxUser;function c(){return(c=Object(m.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(a);case 2:n=e.sent,delete(r=n.data.user).password,delete r.hash,delete r.salt,l(r),t.push("/profile");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(N.a,{layout:"vertical",form:n,onFinish:function(e){return c.apply(this,arguments)}},r.a.createElement(N.a.Item,{name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"password",label:"Password:",rules:[{required:!0,message:"Please input a password"}]},r.a.createElement(F.a.Password,null)),r.a.createElement(S.a,{type:"primary",block:!0,htmlType:"submit"},"Log in")),r.a.createElement(C.a,null,"Or"),r.a.createElement("a",{href:"http://localhost:3000/auth/google"},r.a.createElement(S.a,{danger:!0,block:!0},"Login with Google")))}var W=a(59),K=a(384),M=j.a.Title,G=(j.a.Paragraph,j.a.Text);function J(){var e=B().user;console.log(e);var t=Object(n.useState)({}),a=Object(p.a)(t,2),l=(a[0],a[1]);return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(null===e||void 0===e?void 0:e._id);case 2:a=t.sent,n=a.data,l(n),console.log(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r.a.createElement(W.a,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(k.a,{size:128,src:r.a.createElement(K.a,{src:null===e||void 0===e?void 0:e.image})})),r.a.createElement("div",null,r.a.createElement(j.a,null,r.a.createElement(M,{level:3},"Welcome, ",e.userName),r.a.createElement(M,{level:5},"Username"),r.a.createElement(G,null,e.userName),r.a.createElement(M,{level:5},"Name"),r.a.createElement(G,null,e.firstName," ",e.lastName),r.a.createElement(M,{level:5},"Email"),r.a.createElement(G,null,e.email),r.a.createElement(M,{level:5},"City"),e.city?r.a.createElement(G,null,e.city):r.a.createElement(G,null,"Edit profile to add"),r.a.createElement(M,{level:5},"Country"),e.country?r.a.createElement(G,null,e.country):r.a.createElement(G,null,"Edit profile to add"))),r.a.createElement("br",null),r.a.createElement(i.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id)},r.a.createElement(S.a,{block:!0},"Edit Profile"))):r.a.createElement(j.a.Title,{level:3},"Login pls"))}var $=a(54),Q=a(381),X=a(391),Y=a(392),Z="https://api.cloudinary.com/v1_1/dj9edroyv/image/upload";function ee(e){var t=e.history,a=B().user,l=B().updateCtxUser,c=N.a.useForm(),i=Object(p.a)(c,1)[0],u=Object(n.useState)(null),s=Object(p.a)(u,2),d=s[0],f=s[1],b=Object(n.useState)(null),v=Object(p.a)(b,2),h=v[0],g=v[1];function y(){return(y=Object(m.a)(o.a.mark((function e(n){var r,c,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),r=Object($.a)(Object($.a)({},n),{},{image:d,_id:a._id,rifas:a.rifas,tickets:a.tickets}),console.log("FORM VALUES: ",{editUser:r}),e.next=5,L(a._id,r);case 5:c=e.sent,u=c.data,i.resetFields(),f(null),l(u),t.push("/profile");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post(Z,a);case 6:n=e.sent,r=n.data.secure_url,f(r),g(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=r.a.createElement("div",null,h?r.a.createElement(X.a,null):r.a.createElement(Y.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return r.a.createElement("div",null,r.a.createElement(N.a,{layout:"vertical",form:i,onFinish:function(e){return y.apply(this,arguments)},initialValues:{email:a.email,userName:a.userName,firstName:a.firstName,lastName:a.lastName,googleID:a.googleID,city:a.city,country:a.country,image:a.image}},r.a.createElement(N.a.Item,{name:"image",label:"Profile Photo:"},r.a.createElement(Q.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return O.apply(this,arguments)}},d?r.a.createElement("img",{src:d,style:{width:"100%"}}):j)),r.a.createElement(N.a.Item,{name:"userName",label:"Nombre de Usuario:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"firstName",label:"Nombre:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"lastName",label:"Apellido:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"email",label:"Nuevo email:"},r.a.createElement(F.a,null)),r.a.createElement(C.a,null),r.a.createElement(N.a.Item,{name:"city",label:"Ciudad:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"country",label:"Pa\xeds:"},r.a.createElement(F.a,null)),r.a.createElement(S.a,{type:"primary",block:!0,htmlType:"submit"},"Save Changes")))}var te=a(119),ae=a(390),ne=function(e){var t=e.addRifa,a=N.a.useForm(),l=Object(p.a)(a,1)[0],c=Object(n.useState)(null),i=Object(p.a)(c,2),u=i[0],s=i[1],d=Object(n.useState)(null),f=Object(p.a)(d,2),b=f[0],v=f[1];function h(){return(h=Object(m.a)(o.a.mark((function e(a){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object($.a)(Object($.a)({},a),{},{imageProduct:u}),e.next=3,y(n);case 3:r=e.sent,c=r.data,console.log(c),t(c),l.resetFields(),s(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(m.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:n=e.sent,r=n.data.secure_url,s(r),v(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=r.a.createElement("div",null,b?r.a.createElement(X.a,null):r.a.createElement(Y.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return r.a.createElement(N.a,{form:l,layout:"vertical",onFinish:function(e){return h.apply(this,arguments)}},r.a.createElement(N.a.Item,{name:"title",label:"Title:",rules:[{required:!0,message:"Please input a title"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"description",label:"Description:",rules:[{required:!0,message:"Please input a description"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productName",label:"Product Name:",rules:[{required:!0,message:"Please input a product name"}]},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productPrice",label:"Product Price:",rules:[{required:!0,message:"Please input a product price"}]},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"ticketPrice",label:"Ticket Price:",rules:[{required:!0,message:"Please input a Ticket Price"}]},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"availableTickets",label:"Available Tickets:",rules:[{required:!0,message:"Please input a Available Tickets"}]},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"imageProduct",label:"Image:"},r.a.createElement(Q.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return g.apply(this,arguments)}},u?r.a.createElement("img",{src:u,style:{width:"100%"}}):O)),r.a.createElement(S.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))},re=function(){B().user;var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(u.f)();return r.a.createElement("div",null,r.a.createElement(ne,{addRifa:function(e){l([].concat(Object(te.a)(a),[e])),c.push("/rifas/myrifas")}}))},le=j.a.Title,ce=j.a.Text,ie=function(){var e=B().user,t=Object(n.useState)([]),a=Object(p.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e?r.a.createElement("div",null,r.a.createElement(d.a,{gutter:[16,16],xs:24,sm:24,md:8},l.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{level:1},"Fake"),r.a.createElement(ce,{type:"secondary"},"Login or Signup"))},ue=a(386);function se(e){var t=e._id,a=e.title,l=e.description,c=e.productPrice,i=e.productName,u=e.imageProduct,s=e.ticketPrice,d=e.availableTickets,f=e.ownerID,b=Object(n.useState)({}),v=Object(p.a)(b,2),h=(v[0],v[1],B().user,N.a.useForm()),g=Object(p.a)(h,1)[0],y=Object(n.useState)(null),j=Object(p.a)(y,2),w=j[0],k=j[1],x=Object(n.useState)(null),P=Object(p.a)(x,2),I=P[0],T=P[1];function C(){return(C=Object(m.a)(o.a.mark((function e(a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object($.a)(Object($.a)({},a),{},{imageProduct:w,ownerID:f}),e.next=3,O(t,n);case 3:r=e.sent,r.data,g.resetFields(),k(null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(m.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:n=e.sent,r=n.data.secure_url,k(r),T(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=r.a.createElement("div",null,I?r.a.createElement(X.a,null):r.a.createElement(Y.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return r.a.createElement(N.a,{form:g,layout:"vertical",onFinish:function(e){return C.apply(this,arguments)},initialValues:{title:a,description:l,productPrice:c,productName:i,imageProduct:u,ticketPrice:s,availableTickets:d}},r.a.createElement(N.a.Item,{name:"title",label:"Title:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"description",label:"Description:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productName",label:"Product Name:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productPrice",label:"Product Price:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"ticketPrice",label:"Ticket Price:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"availableTickets",label:"Available Tickets:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"imageProduct",label:"Image:"},r.a.createElement(Q.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return U.apply(this,arguments)}},w?r.a.createElement("img",{src:w,style:{width:"100%"}}):_)),r.a.createElement(S.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Save Changes"))}var oe=E.a.create({baseURL:"/api/tickets",withCredentials:!0}),me=function(e){return oe.post("/bought-ticket/".concat(e))},pe=function(){return oe.get("/rifas")},de=function(){return oe.get("/winner-rifas")},fe=function(){return oe.get("/lost-rifas")},Ee=j.a.Title,be=j.a.Text,ve=function(e){var t,a=e.match.params.rifaId,l=Object(n.useState)({}),c=Object(p.a)(l,2),u=c[0],s=c[1],d=B().user,f=Object(n.useState)(!1),E=Object(p.a)(f,2),b=(E[0],E[1],Object(n.useState)(!1)),v=Object(p.a)(b,2),h=v[0],y=v[1],O=Object(n.useState)(!1),j=Object(p.a)(O,2),x=j[0],P=j[1],I=Object(n.useState)(),T=Object(p.a)(I,2),N=(T[0],T[1],Object(n.useState)(!1)),F=Object(p.a)(N,2),C=F[0],U=F[1],_=!0;Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(a);case 2:t=e.sent,(n=t.data).soldTickets.forEach((function(e){if(d&&d.tickets.includes(e))return _=!0})),n.availableTickets>0&&!1===_?U(!0):U(!1),s(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]);var q=!1;function D(){return(D=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,me(a);case 3:U(!1),P(!x);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d&&u.ownerID===d._id&&(q=!0);var L=u.title,R=u.imageProduct,A=u.description,z=u.productName,H=u.productPrice,V=u.availableTickets;return r.a.createElement(r.a.Fragment,null,L?r.a.createElement(w.a,{type:"inner",title:L},r.a.createElement("center",null,r.a.createElement(k.a,{src:R,style:{backgroundColor:"white"}}),r.a.createElement(Ee,{level:4},z),r.a.createElement(be,null,"Description: ",A),r.a.createElement("br",null),r.a.createElement(be,null," Ticket Price: ",H),r.a.createElement("br",null),r.a.createElement(be,null," Available Tickets: ",V),r.a.createElement("br",null),null!==(t=q)&&void 0!==t?t:r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{onClick:function(){return y(!h)}},"Editar"),r.a.createElement("br",null)),d?r.a.createElement(r.a.Fragment,null,C?r.a.createElement(S.a,{onClick:function(){return function(){return D.apply(this,arguments)}()}},"Comprar Boleto"):r.a.createElement(S.a,{disabled:!0},"Comprar Boleto")):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(i.b,{to:"/signup"},r.a.createElement(S.a,{type:"primary"},"Sign up to buy")),r.a.createElement("p",null,"or"),r.a.createElement(i.b,{to:"/login"},r.a.createElement(S.a,{default:!0},"Log in")))),h&&r.a.createElement(se,u)):r.a.createElement(ue.a,{active:!0}))};function he(e){var t=e.match.params.rifaId,a=Object(n.useState)({}),l=Object(p.a)(a,2),c=l[0],i=l[1],s=(B().user,N.a.useForm()),d=Object(p.a)(s,1)[0],f=Object(u.f)(),b=Object(n.useState)(null),v=Object(p.a)(b,2),h=v[0],y=v[1],O=Object(n.useState)(null),j=Object(p.a)(O,2),w=j[0],k=j[1];function x(){return(x=Object(m.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object($.a)(Object($.a)({},a),{},{imageProduct:h}),console.log(n),d.resetFields(),y(null),f.push("/rifas/myrifas".concat(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(m.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:n=e.sent,r=n.data.secure_url,y(r),k(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a=e.sent,n=a.data,i(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("RIFA CHECK 2",c);var I=r.a.createElement("div",null,w?r.a.createElement(X.a,null):r.a.createElement(Y.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return r.a.createElement(N.a,{form:d,layout:"vertical",onFinish:function(e){return x.apply(this,arguments)},initialValues:{title:c.title,description:c.description,productPrice:c.productPrice,productName:c.productName,imageProduct:c.imageProduct,ticketPrice:c.ticketPrice,availableTickets:c.availableTickets}},r.a.createElement(N.a.Item,{name:"title",label:"Title:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"description",label:"Description:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productName",label:"Product Name:"},r.a.createElement(F.a,null)),r.a.createElement(N.a.Item,{name:"productPrice",label:"Product Price:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"ticketPrice",label:"Ticket Price:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"availableTickets",label:"Available Tickets:"},r.a.createElement(ae.a,null)),r.a.createElement(N.a.Item,{name:"imageProduct",label:"Image:"},r.a.createElement(Q.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return P.apply(this,arguments)}},h?r.a.createElement("img",{src:h,style:{width:"100%"}}):I)),r.a.createElement(S.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))}var ge=a(379),ye=(j.a.Title,j.a.Text,function(){B().user;var e=Object(n.useState)(null),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),i=Object(p.a)(c,2),u=i[0],s=i[1],f=Object(n.useState)(null),E=Object(p.a)(f,2),b=E[0],v=E[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,a=t.data,console.log("NOT FINISHED",a),v(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:t=e.sent,a=t.data,console.log("WINNER",a),l(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,a=t.data,console.log("LOSER RIFAS",a),s(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"FELICIDADES, aqui estan tus rifas ganadas"),r.a.createElement(d.a,{gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}))),r.a.createElement("hr",null)),r.a.createElement("h2",null,"Rifas abiertas"),b?r.a.createElement(d.a,{gutter:[16,16],xs:24,sm:24,md:8},b.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}))):r.a.createElement(ge.a,{size:"large"}),r.a.createElement("hr",null),r.a.createElement("h2",null,"Rifas cerradas"),u?r.a.createElement(d.a,{gutter:[16,16],xs:24,sm:24,md:8},u.map((function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}))):r.a.createElement(ge.a,{size:"large"}))}),Oe=a(380),je=a(389),we=Oe.a.Header,ke=Oe.a.Content,xe=Oe.a.Footer,Pe=function(e){var t=e.children,a=B(),n=a.clearCtxUser,l=a.user;function c(){return(c=Object(m.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:n();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Oe.a,{className:"layout"},r.a.createElement(we,{style:{position:"fixed",zIndex:1e3,width:"100%"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(je.a,{theme:"dark",mode:"horizontal"},r.a.createElement(je.a.Item,{key:"1"},r.a.createElement(i.b,{to:"/"},"Home")),l?r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a.Item,{key:"2"},r.a.createElement(i.b,{to:"/profile"},"Profile")),r.a.createElement(je.a.Item,{key:"3",onClick:function(){return c.apply(this,arguments)}},"Logout"),r.a.createElement(je.a.Item,{key:"4"},r.a.createElement(i.b,{to:"/new/rifas"},"Crear Rifa")),r.a.createElement(je.a.Item,{key:"5"},r.a.createElement(i.b,{to:"/rifas/myrifas"},"Mis rifas")),r.a.createElement(je.a.Item,{key:"6"},r.a.createElement(i.b,{to:"/tickets/mytickets"},"Mis Tickets"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a.Item,{key:"2"},r.a.createElement(i.b,{to:"/signup"},"Signup")),r.a.createElement(je.a.Item,{key:"3"},r.a.createElement(i.b,{to:"/login"},"Login"))))),r.a.createElement("br",null),r.a.createElement(ke,{style:{padding:"75px 50px 0 50px",minHeight:"calc(100vh - 153.6px)"}},r.a.createElement("div",{className:"site-layout-content"},t)),r.a.createElement(xe,{style:{textAlign:"center"}},"Vaquita de la suerte \ud83c\udf40 ",r.a.createElement("br",null)," \xa92020 Created by Ayhan Konar & Karen Roth"))},Ie=function(){return r.a.createElement(i.a,null,r.a.createElement(Pe,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:I}),r.a.createElement(u.a,{exact:!0,path:"/signup",component:A}),r.a.createElement(u.a,{exact:!0,path:"/login",component:V}),r.a.createElement(u.a,{exact:!0,path:"/profile",component:J}),r.a.createElement(u.a,{exact:!0,path:"/profile/edit/:id",component:ee}),r.a.createElement(u.a,{exact:!0,path:"/new/rifas",component:re}),r.a.createElement(u.a,{exact:!0,path:"/rifas/myrifas",component:ie}),r.a.createElement(u.a,{exact:!0,path:"/rifas/:rifaId",component:ve}),r.a.createElement(u.a,{exact:!0,path:"/rifas/edit/:rifaId",component:he}),r.a.createElement(u.a,{exact:!0,path:"/tickets/mytickets",component:ye}),r.a.createElement(u.a,{component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(375);c.a.render(r.a.createElement(H,null,r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[197,1,2]]]);
//# sourceMappingURL=main.025f16aa.chunk.js.map