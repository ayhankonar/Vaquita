(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{199:function(e,t,a){e.exports=a(387)},204:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(31),c=a.n(l),i=(a(204),a(39)),o=a(41),s=a(7),u=a.n(s),m=a(23),d=a(12),p=a(389),b=a(94),f=a(50),E=a.n(f),h=E.a.create({baseURL:"/api/rifas",withCredentials:!0}),g=function(){return h.get("/myrifas")},y=function(){return h.get()},v=function(e,t){return h.get("/".concat(e),t)},j=function(e){return h.post("/new",e)},w=function(e,t){return h.put("/".concat(e),t)},O=a(394),x=O.a.Meta;var k=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(O.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300},alt:"example",src:a}),actions:[n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(x,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))};var C=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c={fontSize:"3em",height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",backgroundImage:'url("./golden-gift-boxes.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"0",padding:"0"}},n.a.createElement(p.a,{autoplay:!0},n.a.createElement("div",null,n.a.createElement("h3",{style:c},"Vaquita. ")),n.a.createElement("div",null,n.a.createElement("h3",{style:{height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",background:"#364d79"}},"2")),n.a.createElement("div",null,n.a.createElement("h3",{style:c},"3")),n.a.createElement("div",null,n.a.createElement("h3",{style:c},"4"))),n.a.createElement("h1",null,"Buscar "),n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(k,Object.assign({key:e.id},e))}))))};var P=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Not found"))},I=a(395),F=a(402),N=a(106),S=a(390),T=E.a.create({baseURL:"/",withCredentials:!0}),R=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("/profile/edit/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(e){var t=e.history,a=I.a.useForm(),r=Object(d.a)(a,1)[0];function l(){return(l=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(a);case 2:t.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"signup"},n.a.createElement(I.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:r,onFinish:function(e){return l.apply(this,arguments)}}),n.a.createElement(I.a.Item,{style:{width:500},name:"userName",label:"Nombre de Usuario:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"firstName",label:"Nombre:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"lastName",label:"Apellido:",rules:[{required:!0,message:"Please input a last name"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(F.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"password2",label:"Confirmar contrase\xf1a:",rules:[{required:!0,message:"Please confirm password"}]},n.a.createElement(F.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,c,n.a.createElement(N.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Signup"))),n.a.createElement(I.a.Item,Object.assign({style:{width:480}},c),n.a.createElement(S.a,null,"Or")),n.a.createElement(I.a.Item,c,n.a.createElement("a",{href:"/auth/google"},n.a.createElement(N.a,{style:{width:250,border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Signup with Google"))))}var A=a(403),L=Object(r.createContext)(),z=function(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1],i=function(e){return c(e)};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(l);case 2:t=e.sent,a=t.data,i(a),console.log(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(L.Provider,Object.assign({},e,{value:{user:l,setCtxUser:i,updateCtxUser:function(e){return c(e)},clearCtxUser:function(){return c(null)}}}))},V=function(){return Object(r.useContext)(L)};function M(e){var t=e.history,a=I.a.useForm(),r=Object(d.a)(a,1)[0],l=V().setCtxUser;function c(){return(c=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(a);case 2:r=e.sent,delete(n=r.data.user).password,delete n.hash,delete n.salt,l(n),t.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"login"},n.a.createElement("div",null,n.a.createElement(I.a,Object.assign({className:"form-login"},{labelCol:{span:8},wrapperCol:{span:16}},{name:"basic",initialValues:{remember:!0},form:r,onFinish:function(e){return c.apply(this,arguments)}}),n.a.createElement(I.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,{style:{width:500},name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(F.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(I.a.Item,Object.assign({},i,{name:"remember",valuePropName:"checked"}),n.a.createElement(A.a,null,"Remember me")),n.a.createElement(I.a.Item,i,n.a.createElement(N.a,{style:{backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Log in")))),n.a.createElement("div",null,n.a.createElement(I.a.Item,i,n.a.createElement(S.a,null,"Or")),n.a.createElement(I.a.Item,Object.assign({style:{width:500}},i),n.a.createElement("a",{href:"http://localhost:3000/auth/google"},n.a.createElement(N.a,{style:{border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Login with Google")))))}var B=a(398),H=a(60),$=a(400),K=a(396),G=B.a.Title,J=(B.a.Paragraph,B.a.Text);function Q(){var e=V().user;console.log(e);var t=Object(r.useState)({}),a=Object(d.a)(t,2),l=(a[0],a[1]);return Object(r.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(null===e||void 0===e?void 0:e._id);case 2:a=t.sent,r=a.data,l(r),console.log(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"profile"},n.a.createElement(H.a,null,e?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement($.a,{size:128,src:n.a.createElement(K.a,{src:null===e||void 0===e?void 0:e.image})})),n.a.createElement("div",null,n.a.createElement(B.a,null,n.a.createElement(G,{level:3},"Welcome, ",e.userName),n.a.createElement(G,{level:5},"Nombre de usuario"),n.a.createElement(J,null,e.userName),n.a.createElement(G,{level:5},"Nombre"),n.a.createElement(J,null,e.firstName," ",e.lastName),n.a.createElement(G,{level:5},"Email"),n.a.createElement(J,null,e.email),n.a.createElement(G,{level:5},"Ciudad"),e.city?n.a.createElement(J,null,e.city):n.a.createElement(J,null,"Edit profile to add"),n.a.createElement(G,{level:5},"Ciudad"),e.country?n.a.createElement(J,null,e.country):n.a.createElement(J,null,"Edit profile to add"))),n.a.createElement("br",null),n.a.createElement(i.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id)},n.a.createElement(N.a,{style:{borderRadius:100,width:200,border:"solid",borderColor:"#bedbbb",color:"#bedbbb"},block:!0},"Editar perfil"))):n.a.createElement(B.a.Title,{level:3},"Login pls")))}var X=a(57),Y=a(393),Z=a(406),ee=a(407),te="https://api.cloudinary.com/v1_1/dj9edroyv/image/upload";function ae(e){var t=e.history,a=V().user,l=V().updateCtxUser,c=I.a.useForm(),i=Object(d.a)(c,1)[0],o=Object(r.useState)(null),s=Object(d.a)(o,2),p=s[0],b=s[1],f=Object(r.useState)(null),h=Object(d.a)(f,2),g=h[0],y=h[1];function v(){return(v=Object(m.a)(u.a.mark((function e(r){var n,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),n=Object(X.a)(Object(X.a)({},r),{},{image:p,_id:a._id,rifas:a.rifas,tickets:a.tickets}),console.log("FORM VALUES: ",{editUser:n}),e.next=5,_(a._id,n);case 5:c=e.sent,o=c.data,i.resetFields(),b(null),l(o),t.push("/profile");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post(te,a);case 6:r=e.sent,n=r.data.secure_url,b(n),y(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=n.a.createElement("div",null,g?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement("div",null,n.a.createElement(I.a,{layout:"vertical",form:i,onFinish:function(e){return v.apply(this,arguments)},initialValues:{email:a.email,userName:a.userName,firstName:a.firstName,lastName:a.lastName,googleID:a.googleID,city:a.city,country:a.country,image:a.image}},n.a.createElement(I.a.Item,{name:"image",label:"Profile Photo:"},n.a.createElement(Y.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return j.apply(this,arguments)}},p?n.a.createElement("img",{src:p,style:{width:"100%"}}):w)),n.a.createElement(I.a.Item,{name:"userName",label:"Nombre de Usuario:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"firstName",label:"Nombre:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"lastName",label:"Apellido:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"email",label:"Nuevo email:"},n.a.createElement(F.a,null)),n.a.createElement(S.a,null),n.a.createElement(I.a.Item,{name:"city",label:"Ciudad:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"country",label:"Pa\xeds:"},n.a.createElement(F.a,null)),n.a.createElement(N.a,{type:"primary",block:!0,htmlType:"submit"},"Save Changes")))}var re=a(195),ne=a(405),le=a(397),ce=function(e){var t=e.addRifa,a=I.a.useForm(),l=Object(d.a)(a,1)[0],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),f=b[0],h=b[1],g=Object(r.useState)(1),y=Object(d.a)(g,2),v=y[0],w=y[1],O=Object(r.useState)(1),x=Object(d.a)(O,2),k=(x[0],x[1],Object(r.useState)(null)),C=Object(d.a)(k,2),P=C[0],T=C[1],R=Object(r.useState)(!1),U=Object(d.a)(R,2),q=U[0],_=U[1];function D(){return(D=Object(m.a)(u.a.mark((function e(a){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(X.a)(Object(X.a)({},a),{},{imageProduct:o}),console.log(r),e.next=4,j(r);case 4:n=e.sent,c=n.data,console.log(c),t(c),l.resetFields(),s(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,s(n),h(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n.a.createElement("div",null,f?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload")),L=Object(r.useState)(null),z=Object(d.a)(L,2),V=(z[0],z[1]),M=Object(r.useState)(null),H=Object(d.a)(M,2),$=(H[0],H[1]),K=Object(r.useState)(!0),G=Object(d.a)(K,2),J=G[0],Q=G[1];var te=Object(r.useState)(!1),ae=Object(d.a)(te,2),re=ae[0],ce=ae[1];function ie(){ce(!re),_(!q)}Object(r.useEffect)((function(){V(P/5),$(P/100)}),[q]);return n.a.createElement("div",{className:"RifaForm"},n.a.createElement("h1",null,"Crea tu rifa!"),n.a.createElement("br",null),n.a.createElement(I.a,{form:l,style:{width:550,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"40px"},theme:"dark",layout:"vertical",onFinish:function(e){return D.apply(this,arguments)}},n.a.createElement(I.a.Item,{name:"imageProduct",label:"Imagen:"},n.a.createElement(Y.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return W.apply(this,arguments)}},o?n.a.createElement("img",{src:o,style:{width:"100%"}}):A)),n.a.createElement(I.a.Item,{style:{color:"white"},name:"title",label:"T\xedtulo:",rules:[{required:!0,message:"Please input a title"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(I.a.Item,{name:"productName",label:"Nombre del producto:",rules:[{required:!0,message:"Please input a product name"}]},n.a.createElement(F.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(I.a.Item,{name:"description",label:"Descripcion:",rules:[{required:!0,message:"Please input a description"}]},n.a.createElement(F.a.TextArea,{showCount:!0,maxLength:120,rows:4,style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(S.a,null),n.a.createElement(I.a.Item,null,n.a.createElement(I.a.Item,{name:"productPrice",label:"Precio del producto:",rules:[{validator:function(e){return P>0?(Q(!1),Promise.resolve("")):(Q(!0),Promise.reject("Price must be greater than zero!"))}},{type:"number",message:"Please input a valid number"},{required:!0,message:"Please input a product price"}]},n.a.createElement(ne.a,{disabled:re,onChange:function(e){T(e),console.log("TOTAL PRICE: ",e),Q(!(P>0&&"number"==typeof P))},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),re?n.a.createElement(N.a,{style:{borderRadius:100},type:"secondary",onClick:ie},"Edit Product Price"):n.a.createElement(N.a,{style:{borderRadius:100},type:"secondary",disabled:J,onClick:ie},"Next")),re&&n.a.createElement(I.a.Item,null,n.a.createElement(S.a,null),n.a.createElement(B.a.Paragraph,null,"Nuestra mision es que todos usuarios tengan oportunidad igual de participar en nuestras rifas. Asi que limitamos los precios de cada boleto hasta $100USD"),n.a.createElement(le.a,{style:{margin:"20px",marginBottom:"30px"},min:1,max:100,marks:{1:"$1 USD",100:"$100 USD"},onChange:function(e){w(e);var t=Math.floor(P/v);l.setFieldsValue({availableTickets:t,ticketPrice:(P/t).toFixed(2)})},value:v,tooltipVisible:!1}),n.a.createElement(I.a.Item,{name:"availableTickets",label:"Tickets disponibles:",rules:[{required:!0,message:"Please input a Available Tickets"}]},n.a.createElement(ne.a,{onChange:function(e){w(P/e),l.setFieldsValue({ticketPrice:(P/e).toFixed(2)})},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(I.a.Item,{name:"ticketPrice",label:"Precio del ticket:",rules:[{required:!0,message:"Please input a Ticket Price"}]},n.a.createElement(ne.a,{min:1,max:100,disabled:!0}))),n.a.createElement(S.a,null),n.a.createElement(N.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:8},type:"primary",size:"middle",htmlType:"submit"},"Create")))},ie=function(){V().user;var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(o.f)();return n.a.createElement("div",{style:{padding:"75px"}},n.a.createElement(ce,{addRifa:function(e){l([].concat(Object(re.a)(a),[e])),c.push("/rifas/myrifas")}}))},oe=O.a.Meta;var se=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(O.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300,height:200},alt:"example",src:a}),actions:[n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(oe,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))},ue=(B.a.Title,B.a.Text,function(){var e=V().user,t=Object(r.useState)([]),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e?n.a.createElement("div",null,n.a.createElement("h1",null,"Mis Rifas"),n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},l.map((function(e){return n.a.createElement(se,Object.assign({key:e.id},e))})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{to:"/login"},n.a.createElement(N.a,null,"Login")))}),me=a(399);function de(e){var t=e._id,a=e.title,l=e.description,c=e.productPrice,i=e.productName,o=e.imageProduct,s=e.ticketPrice,p=e.availableTickets,b=e.ownerID,f=Object(r.useState)({}),h=Object(d.a)(f,2),g=(h[0],h[1],V().user,I.a.useForm()),y=Object(d.a)(g,1)[0],v=Object(r.useState)(null),j=Object(d.a)(v,2),O=j[0],x=j[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),P=C[0],S=C[1];function T(){return(T=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(X.a)(Object(X.a)({},a),{},{imageProduct:O,ownerID:b}),e.next=3,w(t,r);case 3:n=e.sent,n.data,y.resetFields(),x(null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,x(n),S(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n.a.createElement("div",null,P?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(I.a,{form:y,layout:"vertical",onFinish:function(e){return T.apply(this,arguments)},initialValues:{title:a,description:l,productPrice:c,productName:i,imageProduct:o,ticketPrice:s,availableTickets:p}},n.a.createElement(I.a.Item,{name:"title",label:"Title:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"description",label:"Description:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(I.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(I.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(I.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(Y.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return R.apply(this,arguments)}},O?n.a.createElement("img",{src:O,style:{width:"100%"}}):U)),n.a.createElement(N.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Save Changes"))}var pe=E.a.create({baseURL:"/api/tickets",withCredentials:!0}),be=function(e){return pe.post("/bought-ticket/".concat(e))},fe=function(){return pe.get("/rifas")},Ee=function(){return pe.get("/winner-rifas")},he=function(){return pe.get("/lost-rifas")},ge=function(e,t){return pe.get("/".concat(e),t)},ye=B.a.Title,ve=B.a.Text,je=function(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],o=l[1],s=V().user,p=Object(r.useState)(!1),b=Object(d.a)(p,2),f=(b[0],b[1],Object(r.useState)(!1)),E=Object(d.a)(f,2),h=E[0],g=E[1],y=Object(r.useState)(!1),j=Object(d.a)(y,2),w=j[0],x=j[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),P=(C[0],C[1],Object(r.useState)(null)),I=Object(d.a)(P,2),F=I[0],S=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:a=e.sent,r=a.data,console.log(r),S(!r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:a=e.sent,r=a.data,o(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[w]);var T=!1;function R(){return(R=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,be(t);case 3:x(!w),S(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&c.ownerID===s._id&&(T=!0);var U=c.title,q=c.imageProduct,_=c.description,D=c.productName,W=c.productPrice,A=c.availableTickets;return n.a.createElement("div",{className:"rifa-details"},n.a.createElement(n.a.Fragment,null,U?n.a.createElement(O.a,{style:{width:500,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"solid",borderWidth:2,borderColor:"#0c7489",borderRadius:4},type:"inner",title:U,cover:n.a.createElement("img",{style:{width:300,flex:1,alignSelf:"center"},alt:"example",src:q})},n.a.createElement("center",null,n.a.createElement(ye,{level:4},D),n.a.createElement(ve,null,"Description: ",_),n.a.createElement("br",null),n.a.createElement(ve,null," Ticket Price: ",W),n.a.createElement("br",null),n.a.createElement(ve,null," Available Tickets: ",A),n.a.createElement("br",null),s?n.a.createElement(n.a.Fragment,null,T?n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{onClick:function(){return g(!h)}},"Editar"),n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null,F?n.a.createElement(N.a,{style:{margin:20,color:"white",width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},onClick:function(){return function(){return R.apply(this,arguments)}()}},"Comprar Boleto"):n.a.createElement(N.a,{style:{margin:20,color:"white",width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},disabled:!0},"Comprar Boleto"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(i.b,{to:"/signup"},n.a.createElement(N.a,{type:"primary"},"Sign up to buy")),n.a.createElement("p",null,"or"),n.a.createElement(i.b,{to:"/login"},n.a.createElement(N.a,{default:!0},"Log in")))),h&&n.a.createElement(de,c)):n.a.createElement(me.a,{active:!0})))};function we(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],i=l[1],s=(V().user,I.a.useForm()),p=Object(d.a)(s,1)[0],b=Object(o.f)(),f=Object(r.useState)(null),h=Object(d.a)(f,2),g=h[0],y=h[1],j=Object(r.useState)(null),w=Object(d.a)(j,2),O=w[0],x=w[1];function k(){return(k=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(X.a)(Object(X.a)({},a),{},{imageProduct:g}),console.log(r),p.resetFields(),y(null),b.push("/rifas/myrifas".concat(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,E.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,y(n),x(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t);case 2:a=e.sent,r=a.data,i(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("RIFA CHECK 2",c);var P=n.a.createElement("div",null,O?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(I.a,{form:p,layout:"vertical",onFinish:function(e){return k.apply(this,arguments)},initialValues:{title:c.title,description:c.description,productPrice:c.productPrice,productName:c.productName,imageProduct:c.imageProduct,ticketPrice:c.ticketPrice,availableTickets:c.availableTickets}},n.a.createElement(I.a.Item,{name:"title",label:"Title:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"description",label:"Description:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(F.a,null)),n.a.createElement(I.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(ne.a,null)),n.a.createElement(I.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(ne.a,null)),n.a.createElement(I.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(ne.a,null)),n.a.createElement(I.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(Y.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return C.apply(this,arguments)}},g?n.a.createElement("img",{src:g,style:{width:"100%"}}):P)),n.a.createElement(N.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))}var Oe=a(401),xe=a(391),ke=(B.a.Title,B.a.Text,Oe.a.Panel),Ce=function(){V().user;var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],p=Object(r.useState)(null),f=Object(d.a)(p,2),E=f[0],h=f[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,a=t.data,console.log("NOT FINISHED",a),h(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:t=e.sent,(a=t.data).length<1?l(null):l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,a=t.data,console.log("LOSER RIFAS",a),s(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"30px"}},n.a.createElement("h1",null,"Mis Tickets"),n.a.createElement(Oe.a,{bordered:!1,defaultActiveKey:["2"]},a&&n.a.createElement(ke,{header:"\xa1Felicidades! Aqu\xed est\xe1n las rifas que has ganado",key:"1"},n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(k,Object.assign({key:e.id},e))})))),n.a.createElement(ke,{header:"Rifas abiertas",key:"2"},E?n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},E.map((function(e){return n.a.createElement(k,Object.assign({key:e.id},e))}))):n.a.createElement(xe.a,{size:"large"})),n.a.createElement(ke,{header:"Rifas cerradas",key:"3"},o?n.a.createElement(b.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},o.map((function(e){return n.a.createElement(k,Object.assign({key:e.id},e))}))):n.a.createElement(xe.a,{size:"large"}))))},Pe=a(392),Ie=a(404),Fe=Pe.a.Header,Ne=Pe.a.Content,Se=Pe.a.Footer,Te=function(e){var t=e.children,a=Object(o.f)(),r=V(),l=r.clearCtxUser,c=r.user;function s(){return(s=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:a.push("/login"),l();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement(Pe.a,{className:"layout"},n.a.createElement(Fe,{style:{position:"fixed",height:65.5,zIndex:1e3,width:"100%",backgroundColor:"#8db596"}},n.a.createElement("div",{className:"logo"}),n.a.createElement(Ie.a,{style:{backgroundColor:"#8db596"},mode:"horizontal"},n.a.createElement(Ie.a.Item,{key:"1"},n.a.createElement("img",{style:{width:90},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"}),n.a.createElement(i.b,{to:"/"})),c?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a.Item,{key:"2"},n.a.createElement(i.b,{to:"/profile"},"Perfil")),n.a.createElement(Ie.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/new/rifas"},"Crear Rifa")),n.a.createElement(Ie.a.Item,{key:"4"},n.a.createElement(i.b,{to:"/rifas/myrifas"},"Mis Rifas")),n.a.createElement(Ie.a.Item,{key:"5"},n.a.createElement(i.b,{to:"/tickets/mytickets"},"Mis Tickets")),n.a.createElement(Ie.a.Item,{key:"6",onClick:function(){return s.apply(this,arguments)}},"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a.Item,{style:{color:"white"},key:"2"},n.a.createElement(i.b,{to:"/signup"},"Signup")),n.a.createElement(Ie.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/login"},"Login")))),n.a.createElement(Ie.a,{style:{backgroundColor:"#bedbbb"},mode:"horizontal"})),n.a.createElement("br",null),n.a.createElement(Ne,{style:{padding:"50px 0",minHeight:"calc(100vh - 153.6px)"}},n.a.createElement("div",{className:"site-layout-content"},t)),n.a.createElement(Se,{style:{textAlign:"center"}},"Vaquita de la suerte ",n.a.createElement("img",{style:{width:40},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"})," ",n.a.createElement("br",null)," \xa92020 Created by Ayhan Konar & Karen Roth"))},Re=function(){return n.a.createElement(i.a,null,n.a.createElement(Te,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/",component:C}),n.a.createElement(o.a,{exact:!0,path:"/signup",component:W}),n.a.createElement(o.a,{exact:!0,path:"/login",component:M}),n.a.createElement(o.a,{exact:!0,path:"/profile",component:Q}),n.a.createElement(o.a,{exact:!0,path:"/profile/edit/:id",component:ae}),n.a.createElement(o.a,{exact:!0,path:"/new/rifas",component:ie}),n.a.createElement(o.a,{exact:!0,path:"/rifas/myrifas",component:ue}),n.a.createElement(o.a,{exact:!0,path:"/rifas/:rifaId",component:je}),n.a.createElement(o.a,{exact:!0,path:"/rifas/edit/:rifaId",component:we}),n.a.createElement(o.a,{exact:!0,path:"/tickets/mytickets",component:Ce}),n.a.createElement(o.a,{component:P}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(386);c.a.render(n.a.createElement(z,null,n.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[199,1,2]]]);
//# sourceMappingURL=main.82f8dbb0.chunk.js.map