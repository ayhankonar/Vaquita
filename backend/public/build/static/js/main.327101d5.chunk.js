(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,a){e.exports=a(377)},203:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(30),c=a.n(l),o=(a(203),a(40)),i=a(41),s=a(7),u=a.n(s),m=a(22),d=a(13),p=a(92),b=a(49),f=a.n(b),E=f.a.create({baseURL:"/api/rifas",withCredentials:!0}),h=function(){return E.get("/myrifas")},y=function(){return E.get()},g=function(e,t){return E.get("/".concat(e),t)},v=function(e){return E.post("/new",e)},w=function(e,t){return E.put("/".concat(e),t)},j=a(383),x=j.a.Meta;var O=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(j.a,{style:{width:300,height:"auto",margin:50},cover:n.a.createElement("div",{style:{width:"100%",height:"200px",position:"relative",overflow:"hidden",padding:"2px"}},n.a.createElement("img",{style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:0,bottom:0,right:0,left:0},alt:"example",src:a})),actions:[n.a.createElement(o.b,{style:{display:"flex",justifyContent:"center",alignContent:"flex-end"},to:"/rifas/".concat(r)},"Detalles")]},n.a.createElement(x,{title:n.a.createElement("h4",null,t),description:"$".concat(c," | ").concat(l," boletos")}))};var k=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"0",padding:"0"}},n.a.createElement("div",null,n.a.createElement("h3",{style:{fontSize:"3em",height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",backgroundImage:'url("./home.png")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}})),n.a.createElement("h1",null,"Buscar "),n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e))}))))};var C=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Not found"))},P=a(384),I=a(391),F=a(103),R=a(379),N=f.a.create({baseURL:"/",withCredentials:!0}),S=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.put("/profile/edit/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0];function l(){return(l=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(a);case 2:t.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"signup"},n.a.createElement(P.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:r,onFinish:function(e){return l.apply(this,arguments)}}),n.a.createElement(P.a.Item,{style:{width:500},name:"userName",label:"Nombre de Usuario:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"firstName",label:"Nombre:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"lastName",label:"Apellido:",rules:[{required:!0,message:"Please input a last name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password2",label:"Confirmar contrase\xf1a:",rules:[{required:!0,message:"Please confirm password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,c,n.a.createElement(F.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Signup"))),n.a.createElement(P.a.Item,Object.assign({style:{width:480}},c),n.a.createElement(R.a,null,"Or")),n.a.createElement(P.a.Item,c,n.a.createElement("a",{href:"/auth/google"},n.a.createElement(F.a,{style:{width:250,border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Signup with Google"))))}var D=a(392),z=Object(r.createContext)(),A=function(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1],o=function(e){return c(e)};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(l);case 2:t=e.sent,a=t.data,o(a),console.log(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(z.Provider,Object.assign({},e,{value:{user:l,setCtxUser:o,updateCtxUser:function(e){return c(e)},clearCtxUser:function(){return c(null)}}}))},L=function(){return Object(r.useContext)(z)};function V(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0],l=L().setCtxUser;function c(){return(c=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a);case 2:r=e.sent,delete(n=r.data.user).password,delete n.hash,delete n.salt,l(n),t.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"login"},n.a.createElement("div",null,n.a.createElement(P.a,Object.assign({className:"form-login"},{labelCol:{span:8},wrapperCol:{span:16}},{name:"basic",initialValues:{remember:!0},form:r,onFinish:function(e){return c.apply(this,arguments)}}),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password",label:"Password:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,Object.assign({},o,{name:"remember",valuePropName:"checked"}),n.a.createElement(D.a,null,"Remember me")),n.a.createElement(P.a.Item,o,n.a.createElement(F.a,{style:{backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Log in")))),n.a.createElement("div",null,n.a.createElement(P.a.Item,o,n.a.createElement(R.a,null,"Or")),n.a.createElement(P.a.Item,Object.assign({style:{width:500}},o),n.a.createElement("a",{href:"http://localhost:3000/auth/google"},n.a.createElement(F.a,{style:{border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Login with Google")))))}var B=a(387),M=a(60),$=a(389),H=a(385),G=B.a.Title,K=(B.a.Paragraph,B.a.Text);function J(){var e=L().user;console.log(e);var t=Object(r.useState)({}),a=Object(d.a)(t,2),l=(a[0],a[1]);return Object(r.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(null===e||void 0===e?void 0:e._id);case 2:a=t.sent,r=a.data,l(r),console.log(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"profile"},n.a.createElement(M.a,null,e?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement($.a,{size:128,src:n.a.createElement(H.a,{src:null===e||void 0===e?void 0:e.image})})),n.a.createElement("div",null,n.a.createElement(B.a,null,n.a.createElement(G,{level:3},"Welcome, ",e.userName),n.a.createElement(G,{level:5},"Nombre de usuario"),n.a.createElement(K,null,e.userName),n.a.createElement(G,{level:5},"Nombre"),n.a.createElement(K,null,e.firstName," ",e.lastName),n.a.createElement(G,{level:5},"Email"),n.a.createElement(K,null,e.email),n.a.createElement(G,{level:5},"Ciudad"),e.city?n.a.createElement(K,null,e.city):n.a.createElement(K,null,"Edit profile to add"),n.a.createElement(G,{level:5},"Ciudad"),e.country?n.a.createElement(K,null,e.country):n.a.createElement(K,null,"Edit profile to add"))),n.a.createElement("br",null),n.a.createElement(o.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id)},n.a.createElement(F.a,{style:{borderRadius:100,width:200,border:"solid",borderColor:"#bedbbb",color:"#bedbbb"},block:!0},"Editar perfil"))):n.a.createElement(B.a.Title,{level:3},"Login pls")))}var Y=a(57),Q=a(80),X=a(382),Z=a(395),ee=a(396),te="https://api.cloudinary.com/v1_1/dj9edroyv/image/upload";function ae(e){var t,a=e.history,l=L().user,c=L().updateCtxUser,o=P.a.useForm(),i=Object(d.a)(o,1)[0],s=Object(r.useState)(null),p=Object(d.a)(s,2),b=p[0],E=p[1],h=Object(r.useState)(null),y=Object(d.a)(h,2),g=y[0],v=y[1];function w(e){return j.apply(this,arguments)}function j(){return(j=Object(m.a)(u.a.mark((function e(t){var r,n,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=Object(Y.a)(Object(Y.a)({},t),{},{image:b,_id:l._id,rifas:l.rifas,tickets:l.tickets}),console.log("FORM VALUES: ",{editUser:r}),e.next=5,W(l._id,r);case 5:n=e.sent,o=n.data,i.resetFields(),E(null),c(o),a.push("/profile");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post(te,a);case 6:r=e.sent,n=r.data.secure_url,E(n),v(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=n.a.createElement("div",null,g?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement("div",{className:"edit-profile"},n.a.createElement(P.a,(t={style:{width:600,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"50px"},theme:"dark",layout:"vertical",onFinish:w},Object(Q.a)(t,"layout","vertical"),Object(Q.a)(t,"form",i),Object(Q.a)(t,"onFinish",w),Object(Q.a)(t,"initialValues",{email:l.email,userName:l.userName,firstName:l.firstName,lastName:l.lastName,googleID:l.googleID,city:l.city,country:l.country,image:l.image}),t),n.a.createElement(P.a.Item,{name:"image",label:"Profile Photo:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return x.apply(this,arguments)}},b?n.a.createElement("img",{src:b,style:{width:"100%"}}):O)),n.a.createElement(P.a.Item,{style:{width:500},name:"userName",label:"Nombre de Usuario:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"firstName",label:"Nombre:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"lastName",label:"Apellido:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Nuevo email:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"city",label:"Ciudad:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"country",label:"Pa\xeds:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(F.a,{style:{width:500,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Guardar Cambios")))}var re=a(194),ne=a(394),le=a(386),ce=function(e){var t=e.addRifa,a=P.a.useForm(),l=Object(d.a)(a,1)[0],c=Object(r.useState)(null),o=Object(d.a)(c,2),i=o[0],s=o[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),E=b[0],h=b[1],y=Object(r.useState)(1),g=Object(d.a)(y,2),w=g[0],j=g[1],x=Object(r.useState)(null),O=Object(d.a)(x,2),k=O[0],C=O[1],N=Object(r.useState)(!1),S=Object(d.a)(N,2),T=S[0],U=S[1],W=Object(r.useState)(null),q=Object(d.a)(W,2),_=(q[0],q[1]),D=Object(r.useState)(null),z=Object(d.a)(D,2),A=(z[0],z[1]),L=Object(r.useState)(!0),V=Object(d.a)(L,2),M=V[0],$=V[1];function H(){return(H=Object(m.a)(u.a.mark((function e(a){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:i}),console.log(r),e.next=4,v(r);case 4:n=e.sent,c=n.data,console.log(c),t(c),l.resetFields(),s(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,s(n),h(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=n.a.createElement("div",null,E?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));var J=Object(r.useState)(!1),Q=Object(d.a)(J,2),te=Q[0],ae=Q[1];function re(){ae(!te),U(!T)}Object(r.useEffect)((function(){_(k/5),A(k/100)}),[T]);return n.a.createElement("div",{className:"RifaForm"},n.a.createElement(P.a,{form:l,style:{width:550,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"40px"},theme:"dark",layout:"vertical",onFinish:function(e){return H.apply(this,arguments)}},n.a.createElement(P.a.Item,{name:"imageProduct",label:"Imagen:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return G.apply(this,arguments)}},i?n.a.createElement("img",{src:i,style:{width:"100%"}}):K)),n.a.createElement(P.a.Item,{style:{color:"white"},name:"title",label:"T\xedtulo:",rules:[{required:!0,message:"Please input a title"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"productName",label:"Nombre del producto:",rules:[{required:!0,message:"Please input a product name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"description",label:"Descripci\xf3n:",rules:[{required:!0,message:"Please input a description"}]},n.a.createElement(I.a.TextArea,{showCount:!0,maxLength:120,rows:4,style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(R.a,null),n.a.createElement(P.a.Item,null,n.a.createElement(P.a.Item,{name:"productPrice",label:"Precio del producto:",rules:[{validator:function(e){return k>0?($(!1),Promise.resolve("")):($(!0),Promise.reject("Price must be greater than zero!"))}},{type:"number",message:"Please input a valid number"},{required:!0,message:"Please input a product price"}]},n.a.createElement(ne.a,{disabled:te,onChange:function(e){C(e),console.log("TOTAL PRICE: ",e),$(!(k>0&&"number"==typeof k))},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),te?n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",onClick:re},"Edit Product Price"):n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",disabled:M,onClick:re},"Next")),te&&n.a.createElement(P.a.Item,null,n.a.createElement(R.a,null),n.a.createElement(B.a.Paragraph,null,"Nuestra misi\xf3n es que todos usuarios tengan oportunidad igual de participar en nuestras rifas. As\xed que limitamos los precios de cada boleto hasta $100 USD"),n.a.createElement(le.a,{style:{margin:"20px",marginBottom:"30px"},min:1,max:100,marks:{1:"$1 USD",100:"$100 USD"},onChange:function(e){j(e);var t=Math.floor(k/w);l.setFieldsValue({availableTickets:t,ticketPrice:(k/t).toFixed(2)})},value:w,tooltipVisible:!1}),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Tickets disponibles:",rules:[{required:!0,message:"Please input a Available Tickets"}]},n.a.createElement(ne.a,{onChange:function(e){j(k/e),l.setFieldsValue({ticketPrice:(k/e).toFixed(2)})},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Precio del ticket:",rules:[{required:!0,message:"Please input a Ticket Price"}]},n.a.createElement(ne.a,{min:1,max:100,disabled:!0}))),n.a.createElement(R.a,null),n.a.createElement(F.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:8},type:"primary",size:"middle",htmlType:"submit"},"Crear")))},oe=function(){L().user;var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(i.f)();return n.a.createElement("div",{style:{padding:"25px 75px"}},n.a.createElement("h1",{style:{fontSize:"3em"}},"Crea tu rifa!"),n.a.createElement(ce,{addRifa:function(e){l([].concat(Object(re.a)(a),[e])),c.push("/rifas/myrifas")}}))},ie=(B.a.Title,B.a.Text,function(){var e=L().user,t=Object(r.useState)([]),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e?n.a.createElement("div",{style:{padding:"25px 0 0 0"}},n.a.createElement("h1",{style:{fontSize:"3em"}},"Mis Rifas"),n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},l.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e))})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(o.b,{to:"/login"},n.a.createElement(F.a,null,"Login")))}),se=a(388);function ue(e){var t=e._id,a=e.title,l=e.description,c=e.productPrice,o=e.productName,i=e.imageProduct,s=e.ticketPrice,p=e.availableTickets,b=e.ownerID,E=Object(r.useState)({}),h=Object(d.a)(E,2),y=(h[0],h[1],L().user,P.a.useForm()),g=Object(d.a)(y,1)[0],v=Object(r.useState)(null),j=Object(d.a)(v,2),x=j[0],O=j[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),R=C[0],N=C[1];function S(){return(S=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:x,ownerID:b}),e.next=3,w(t,r);case 3:n=e.sent,n.data,g.resetFields(),O(null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,O(n),N(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n.a.createElement("div",null,R?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:g,layout:"vertical",onFinish:function(e){return S.apply(this,arguments)},initialValues:{title:a,description:l,productPrice:c,productName:o,imageProduct:i,ticketPrice:s,availableTickets:p}},n.a.createElement(P.a.Item,{name:"imageProduct",label:"Imagen:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return T.apply(this,arguments)}},x?n.a.createElement("img",{src:x,style:{width:"100%"}}):U),n.a.createElement(P.a.Item,{name:"title",label:"T\xedtulo:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Nombre del producto:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Precio del producto:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Tickets disponibles:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Precio del ticket:"},n.a.createElement(ne.a,{disabled:!0}))),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Guardar cambios"))}var me=f.a.create({baseURL:"/api/tickets",withCredentials:!0}),de=function(e){return me.post("/bought-ticket/".concat(e))},pe=function(){return me.get("/rifas")},be=function(){return me.get("/winner-rifas")},fe=function(){return me.get("/lost-rifas")},Ee=function(e,t){return me.get("/".concat(e),t)},he=B.a.Title,ye=B.a.Text,ge=function(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],i=l[1],s=L().user,p=Object(r.useState)(!1),b=Object(d.a)(p,2),f=(b[0],b[1],Object(r.useState)(!1)),E=Object(d.a)(f,2),h=E[0],y=E[1],v=Object(r.useState)(!1),w=Object(d.a)(v,2),x=w[0],O=w[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),P=(C[0],C[1],Object(r.useState)(null)),I=Object(d.a)(P,2),R=I[0],N=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t);case 2:a=e.sent,r=a.data,console.log(r),N(!r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a=e.sent,r=a.data,i(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[x]);var S=!1;function T(){return(T=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,de(t);case 3:O(!x),N(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&c.ownerID===s._id&&(S=!0);var U=c.title,W=c.imageProduct,q=c.description,_=c.productName,D=c.productPrice,z=c.availableTickets,A=c.ticketPrice;return n.a.createElement("div",{className:"rifa-details"},n.a.createElement(n.a.Fragment,null,U?n.a.createElement(j.a,{style:{width:500,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"solid",borderWidth:2,borderColor:"#0c7489",borderRadius:4},type:"inner",title:n.a.createElement("h1",null,U),cover:n.a.createElement("img",{style:{width:300,flex:1,alignSelf:"center"},alt:"example",src:W})},n.a.createElement("center",null,n.a.createElement(he,{level:4},_),n.a.createElement(ye,null,"Descripci\xf3n: ",q),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(ye,{style:{fontFamily:"Averta-Bold"}}," Valor de producto: $",D),n.a.createElement("br",null),n.a.createElement(ye,{style:{fontFamily:"Averta-Bold"}}," Precio de Ticket: $",A),n.a.createElement("br",null),n.a.createElement(ye,{style:{fontFamily:"Averta-Bold"}}," Tickets disponibles: ",z),n.a.createElement("br",null),s?n.a.createElement(n.a.Fragment,null,S?n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{onClick:function(){return y(!h)}},"Editar"),n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null,R?n.a.createElement(F.a,{style:{margin:20,color:"white",width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},onClick:function(){return function(){return T.apply(this,arguments)}()}},"Comprar Boleto"):n.a.createElement(F.a,{style:{margin:20,color:"#C8C8C8",width:250,backgroundColor:"white",border:"solid",borderColor:"#C8C8C8",borderRadius:4,borderWidth:2},disabled:!0},"Ya compraste un boleto"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(o.b,{to:"/signup"},n.a.createElement(F.a,{type:"primary"},"Sign up to buy")),n.a.createElement("p",null,"or"),n.a.createElement(o.b,{to:"/login"},n.a.createElement(F.a,{default:!0},"Log in")))),h&&n.a.createElement(ue,c)):n.a.createElement(se.a,{active:!0})))};function ve(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],o=l[1],s=(L().user,P.a.useForm()),p=Object(d.a)(s,1)[0],b=Object(i.f)(),E=Object(r.useState)(null),h=Object(d.a)(E,2),y=h[0],v=h[1],w=Object(r.useState)(null),j=Object(d.a)(w,2),x=j[0],O=j[1];function k(){return(k=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:y}),p.resetFields(),v(null),b.push("/rifas/myrifas".concat(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,v(n),O(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a=e.sent,r=a.data,o(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("RIFA CHECK 2",c);var R=n.a.createElement("div",null,x?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:p,layout:"vertical",onFinish:function(e){return k.apply(this,arguments)},initialValues:{title:c.title,description:c.description,productPrice:c.productPrice,productName:c.productName,imageProduct:c.imageProduct,ticketPrice:c.ticketPrice,availableTickets:c.availableTickets}},n.a.createElement(P.a.Item,{name:"title",label:"Title:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return C.apply(this,arguments)}},y?n.a.createElement("img",{src:y,style:{width:"100%"}}):R)),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))}var we=a(390),je=a(380),xe=(B.a.Title,B.a.Text,we.a.Panel),Oe=function(){L().user;var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(null),o=Object(d.a)(c,2),i=o[0],s=o[1],b=Object(r.useState)(null),f=Object(d.a)(b,2),E=f[0],h=f[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,a=t.data,console.log("NOT FINISHED",a),h(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:t=e.sent,(a=t.data).length<1?l(null):l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,a=t.data,console.log("LOSER RIFAS",a),s(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"0 30px",padding:"25px 0 0 0"}},n.a.createElement("h1",{style:{fontSize:"3em"}},"Mis Tickets"),n.a.createElement(we.a,{bordered:!1,defaultActiveKey:["2"],style:{border:"1px solid #0c7489"}},a&&n.a.createElement(xe,{style:{fontSize:"1.5em"},header:"\xa1Felicidades! Aqu\xed est\xe1n las rifas que has ganado",key:"1"},n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e))})))),n.a.createElement(xe,{style:{fontSize:"1.5em"},header:"Rifas abiertas",key:"2"},E?n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},E.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e))}))):n.a.createElement(je.a,{size:"large"})),n.a.createElement(xe,{style:{fontSize:"1.5em"},header:"Rifas cerradas",key:"3"},i?n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},i.map((function(e){return n.a.createElement(O,Object.assign({key:e.id},e))}))):n.a.createElement(je.a,{size:"large"}))))},ke=a(381),Ce=a(393),Pe=ke.a.Header,Ie=ke.a.Content,Fe=ke.a.Footer,Re=function(e){var t=e.children,a=Object(i.f)(),r=L(),l=r.clearCtxUser,c=r.user;function s(){return(s=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:a.push("/login"),l();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement(ke.a,{className:"layout"},n.a.createElement(Pe,{style:{position:"fixed",height:65.5,zIndex:1e3,width:"100%",backgroundColor:"#8db596"}},n.a.createElement("div",{className:"logo"}),n.a.createElement(Ce.a,{style:{backgroundColor:"#8db596"},mode:"horizontal"},n.a.createElement(Ce.a.Item,{key:"1"},n.a.createElement("img",{style:{width:80},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"}),n.a.createElement(o.b,{to:"/"})),c?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a.Item,{key:"3"},n.a.createElement(o.b,{to:"/new/rifas"},"Crear Rifa")),n.a.createElement(Ce.a.Item,{key:"4"},n.a.createElement(o.b,{to:"/rifas/myrifas"},"Mis Rifas")),n.a.createElement(Ce.a.Item,{key:"5"},n.a.createElement(o.b,{to:"/tickets/mytickets"},"Mis Tickets")),n.a.createElement(Ce.a.Item,{key:"2"},n.a.createElement(o.b,{to:"/profile"},"Perfil")),n.a.createElement(Ce.a.Item,{key:"6",onClick:function(){return s.apply(this,arguments)}},"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ce.a.Item,{style:{color:"white"},key:"2"},n.a.createElement(o.b,{to:"/signup"},"Signup")),n.a.createElement(Ce.a.Item,{key:"3"},n.a.createElement(o.b,{to:"/login"},"Login")))),n.a.createElement(Ce.a,{style:{backgroundColor:"#bedbbb"},mode:"horizontal"})),n.a.createElement("br",null),n.a.createElement(Ie,{style:{padding:"50px 0",minHeight:"calc(100vh - 153.6px)"}},n.a.createElement("div",{className:"site-layout-content"},t)),n.a.createElement(Fe,{style:{textAlign:"center",backgroundColor:"#CEF1D8"}},"Vaquita de la suerte ",n.a.createElement("img",{style:{width:40},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"})," ",n.a.createElement("br",null)," \xa92020 Created by Ayhan Konar & Karen Roth"))},Ne=function(){return n.a.createElement(o.a,null,n.a.createElement(Re,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{exact:!0,path:"/",component:k}),n.a.createElement(i.a,{exact:!0,path:"/signup",component:_}),n.a.createElement(i.a,{exact:!0,path:"/login",component:V}),n.a.createElement(i.a,{exact:!0,path:"/profile",component:J}),n.a.createElement(i.a,{exact:!0,path:"/profile/edit/:id",component:ae}),n.a.createElement(i.a,{exact:!0,path:"/new/rifas",component:oe}),n.a.createElement(i.a,{exact:!0,path:"/rifas/myrifas",component:ie}),n.a.createElement(i.a,{exact:!0,path:"/rifas/:rifaId",component:ge}),n.a.createElement(i.a,{exact:!0,path:"/rifas/edit/:rifaId",component:ve}),n.a.createElement(i.a,{exact:!0,path:"/tickets/mytickets",component:Oe}),n.a.createElement(i.a,{component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(376);c.a.render(n.a.createElement(A,null,n.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[198,1,2]]]);
//# sourceMappingURL=main.327101d5.chunk.js.map