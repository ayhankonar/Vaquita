(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,a){e.exports=a(377)},203:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(30),c=a.n(l),i=(a(203),a(36)),o=a(41),s=a(7),u=a.n(s),m=a(22),d=a(12),p=a(93),b=a(49),f=a.n(b),E=f.a.create({baseURL:"/api/rifas",withCredentials:!0}),h=function(){return E.get("/myrifas")},y=function(){return E.get()},g=function(e,t){return E.get("/".concat(e),t)},v=function(e){return E.post("/new",e)},j=function(e,t){return E.put("/".concat(e),t)},w=a(383),O=w.a.Meta;var x=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(w.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300},alt:"example",src:a}),actions:[n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(O,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))};var k=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,a=t.data,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"0",padding:"0"}},n.a.createElement("div",null,n.a.createElement("h3",{style:{fontSize:"3em",height:"400px",color:"#fff",lineHeight:"400px",textAlign:"center",backgroundImage:'url("./home.png")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}})),n.a.createElement("h1",null,"Buscar "),n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))))};var C=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"Not found"))},P=a(384),I=a(391),F=a(104),N=a(379),R=f.a.create({baseURL:"/",withCredentials:!0}),T=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/profile",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.put("/profile/edit/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0];function l(){return(l=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(a);case 2:t.push("/login");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"signup"},n.a.createElement(P.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{form:r,onFinish:function(e){return l.apply(this,arguments)}}),n.a.createElement(P.a.Item,{style:{width:500},name:"userName",label:"Nombre de Usuario:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"firstName",label:"Nombre:",rules:[{required:!0,message:"Please input a name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"lastName",label:"Apellido:",rules:[{required:!0,message:"Please input a last name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password2",label:"Confirmar contrase\xf1a:",rules:[{required:!0,message:"Please confirm password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,c,n.a.createElement(F.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Signup"))),n.a.createElement(P.a.Item,Object.assign({style:{width:480}},c),n.a.createElement(N.a,null,"Or")),n.a.createElement(P.a.Item,c,n.a.createElement("a",{href:"/auth/google"},n.a.createElement(F.a,{style:{width:250,border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Signup with Google"))))}var D=a(392),L=Object(r.createContext)(),A=function(e){var t=Object(r.useState)(null),a=Object(d.a)(t,2),l=a[0],c=a[1],i=function(e){return c(e)};return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(l);case 2:t=e.sent,a=t.data,i(a),console.log(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement(L.Provider,Object.assign({},e,{value:{user:l,setCtxUser:i,updateCtxUser:function(e){return c(e)},clearCtxUser:function(){return c(null)}}}))},z=function(){return Object(r.useContext)(L)};function V(e){var t=e.history,a=P.a.useForm(),r=Object(d.a)(a,1)[0],l=z().setCtxUser;function c(){return(c=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(a);case 2:r=e.sent,delete(n=r.data.user).password,delete n.hash,delete n.salt,l(n),t.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={wrapperCol:{offset:8,span:16}};return n.a.createElement("div",{className:"login"},n.a.createElement("div",null,n.a.createElement(P.a,Object.assign({className:"form-login"},{labelCol:{span:8},wrapperCol:{span:16}},{name:"basic",initialValues:{remember:!0},form:r,onFinish:function(e){return c.apply(this,arguments)}}),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Email:",rules:[{required:!0,message:"Please input a valid email address"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"password",label:"Contrase\xf1a:",rules:[{required:!0,message:"Please input a password"}]},n.a.createElement(I.a.Password,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,Object.assign({},i,{name:"remember",valuePropName:"checked"}),n.a.createElement(D.a,null,"Remember me")),n.a.createElement(P.a.Item,i,n.a.createElement(F.a,{style:{backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Log in")))),n.a.createElement("div",null,n.a.createElement(P.a.Item,i,n.a.createElement(N.a,null,"Or")),n.a.createElement(P.a.Item,Object.assign({style:{width:500}},i),n.a.createElement("a",{href:"http://localhost:3000/auth/google"},n.a.createElement(F.a,{style:{border:"solid",borderWidth:2,borderRadius:4},danger:!0,block:!0},"Login with Google")))))}var M=a(387),$=a(60),B=a(389),H=a(385),K=M.a.Title,G=(M.a.Paragraph,M.a.Text);function J(){var e=z().user;console.log(e);var t=Object(r.useState)({}),a=Object(d.a)(t,2),l=(a[0],a[1]);return Object(r.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(null===e||void 0===e?void 0:e._id);case 2:a=t.sent,r=a.data,l(r),console.log(r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"profile"},n.a.createElement($.a,null,e?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement(B.a,{size:128,src:n.a.createElement(H.a,{src:null===e||void 0===e?void 0:e.image})})),n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(K,{level:3},"Welcome, ",e.userName),n.a.createElement(K,{level:5},"Nombre de usuario"),n.a.createElement(G,null,e.userName),n.a.createElement(K,{level:5},"Nombre"),n.a.createElement(G,null,e.firstName," ",e.lastName),n.a.createElement(K,{level:5},"Email"),n.a.createElement(G,null,e.email),n.a.createElement(K,{level:5},"Ciudad"),e.city?n.a.createElement(G,null,e.city):n.a.createElement(G,null,"Edit profile to add"),n.a.createElement(K,{level:5},"Ciudad"),e.country?n.a.createElement(G,null,e.country):n.a.createElement(G,null,"Edit profile to add"))),n.a.createElement("br",null),n.a.createElement(i.b,{to:"/profile/edit/".concat(null===e||void 0===e?void 0:e._id)},n.a.createElement(F.a,{style:{borderRadius:100,width:200,border:"solid",borderColor:"#bedbbb",color:"#bedbbb"},block:!0},"Editar perfil"))):n.a.createElement(M.a.Title,{level:3},"Login pls")))}var Y=a(57),Q=a(80),X=a(382),Z=a(395),ee=a(396),te="https://api.cloudinary.com/v1_1/dj9edroyv/image/upload";function ae(e){var t,a=e.history,l=z().user,c=z().updateCtxUser,i=P.a.useForm(),o=Object(d.a)(i,1)[0],s=Object(r.useState)(null),p=Object(d.a)(s,2),b=p[0],E=p[1],h=Object(r.useState)(null),y=Object(d.a)(h,2),g=y[0],v=y[1];function j(e){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(u.a.mark((function e(t){var r,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),r=Object(Y.a)(Object(Y.a)({},t),{},{image:b,_id:l._id,rifas:l.rifas,tickets:l.tickets}),console.log("FORM VALUES: ",{editUser:r}),e.next=5,W(l._id,r);case 5:n=e.sent,i=n.data,o.resetFields(),E(null),c(i),a.push("/profile");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post(te,a);case 6:r=e.sent,n=r.data.secure_url,E(n),v(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n.a.createElement("div",null,g?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement("div",{className:"edit-profile"},n.a.createElement(P.a,(t={style:{width:600,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"50px"},theme:"dark",layout:"vertical",onFinish:j},Object(Q.a)(t,"layout","vertical"),Object(Q.a)(t,"form",o),Object(Q.a)(t,"onFinish",j),Object(Q.a)(t,"initialValues",{email:l.email,userName:l.userName,firstName:l.firstName,lastName:l.lastName,googleID:l.googleID,city:l.city,country:l.country,image:l.image}),t),n.a.createElement(P.a.Item,{name:"image",label:"Profile Photo:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return O.apply(this,arguments)}},b?n.a.createElement("img",{src:b,style:{width:"100%"}}):x)),n.a.createElement(P.a.Item,{style:{width:500},name:"userName",label:"Nombre de Usuario:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"firstName",label:"Nombre:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"lastName",label:"Apellido:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"email",label:"Nuevo email:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"city",label:"Ciudad:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(P.a.Item,{style:{width:500},name:"country",label:"Pa\xeds:"},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderWidth:"2px",borderRadius:4}})),n.a.createElement(F.a,{style:{width:500,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},type:"primary",block:!0,htmlType:"submit"},"Guardar Cambios")))}var re=a(194),ne=a(394),le=a(386),ce=function(e){var t=e.addRifa,a=P.a.useForm(),l=Object(d.a)(a,1)[0],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),E=b[0],h=b[1],y=Object(r.useState)(1),g=Object(d.a)(y,2),j=g[0],w=g[1],O=Object(r.useState)(1),x=Object(d.a)(O,2),k=(x[0],x[1],Object(r.useState)(null)),C=Object(d.a)(k,2),R=C[0],T=C[1],S=Object(r.useState)(!1),U=Object(d.a)(S,2),W=U[0],q=U[1];function _(){return(_=Object(m.a)(u.a.mark((function e(a){var r,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:o}),console.log(r),e.next=4,v(r);case 4:n=e.sent,c=n.data,console.log(c),t(c),l.resetFields(),s(null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,s(n),h(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=n.a.createElement("div",null,E?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload")),A=Object(r.useState)(null),z=Object(d.a)(A,2),V=(z[0],z[1]),$=Object(r.useState)(null),B=Object(d.a)($,2),H=(B[0],B[1]),K=Object(r.useState)(!0),G=Object(d.a)(K,2),J=G[0],Q=G[1];var te=Object(r.useState)(!1),ae=Object(d.a)(te,2),re=ae[0],ce=ae[1];function ie(){ce(!re),q(!W)}Object(r.useEffect)((function(){V(R/5),H(R/100)}),[W]);return n.a.createElement("div",{className:"RifaForm"},n.a.createElement("h1",null,"Crea tu rifa!"),n.a.createElement("br",null),n.a.createElement(P.a,{form:l,style:{width:550,backgroundColor:"white",border:"solid",borderWidth:"1px",borderColor:"#0c7489",borderRadius:10,padding:"40px"},theme:"dark",layout:"vertical",onFinish:function(e){return _.apply(this,arguments)}},n.a.createElement(P.a.Item,{name:"imageProduct",label:"Imagen:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return D.apply(this,arguments)}},o?n.a.createElement("img",{src:o,style:{width:"100%"}}):L)),n.a.createElement(P.a.Item,{style:{color:"white"},name:"title",label:"T\xedtulo:",rules:[{required:!0,message:"Please input a title"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"productName",label:"Nombre del producto:",rules:[{required:!0,message:"Please input a product name"}]},n.a.createElement(I.a,{style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"description",label:"Descripcion:",rules:[{required:!0,message:"Please input a description"}]},n.a.createElement(I.a.TextArea,{showCount:!0,maxLength:120,rows:4,style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(N.a,null),n.a.createElement(P.a.Item,null,n.a.createElement(P.a.Item,{name:"productPrice",label:"Precio del producto:",rules:[{validator:function(e){return R>0?(Q(!1),Promise.resolve("")):(Q(!0),Promise.reject("Price must be greater than zero!"))}},{type:"number",message:"Please input a valid number"},{required:!0,message:"Please input a product price"}]},n.a.createElement(ne.a,{disabled:re,onChange:function(e){T(e),console.log("TOTAL PRICE: ",e),Q(!(R>0&&"number"==typeof R))},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),re?n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",onClick:ie},"Edit Product Price"):n.a.createElement(F.a,{style:{borderRadius:100},type:"secondary",disabled:J,onClick:ie},"Next")),re&&n.a.createElement(P.a.Item,null,n.a.createElement(N.a,null),n.a.createElement(M.a.Paragraph,null,"Nuestra mision es que todos usuarios tengan oportunidad igual de participar en nuestras rifas. Asi que limitamos los precios de cada boleto hasta $100USD"),n.a.createElement(le.a,{style:{margin:"20px",marginBottom:"30px"},min:1,max:100,marks:{1:"$1 USD",100:"$100 USD"},onChange:function(e){w(e);var t=Math.floor(R/j);l.setFieldsValue({availableTickets:t,ticketPrice:(R/t).toFixed(2)})},value:j,tooltipVisible:!1}),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Tickets disponibles:",rules:[{required:!0,message:"Please input a Available Tickets"}]},n.a.createElement(ne.a,{onChange:function(e){w(R/e),l.setFieldsValue({ticketPrice:(R/e).toFixed(2)})},style:{border:"solid",borderColor:"#0c7489",borderRadius:8,borderWidth:"2px",backgroundColor:"#F2F2F2"}})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Precio del ticket:",rules:[{required:!0,message:"Please input a Ticket Price"}]},n.a.createElement(ne.a,{min:1,max:100,disabled:!0}))),n.a.createElement(N.a,null),n.a.createElement(F.a,{style:{width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:8},type:"primary",size:"middle",htmlType:"submit"},"Create")))},ie=function(){z().user;var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(o.f)();return n.a.createElement("div",{style:{padding:"75px"}},n.a.createElement(ce,{addRifa:function(e){l([].concat(Object(re.a)(a),[e])),c.push("/rifas/myrifas")}}))},oe=w.a.Meta;var se=function(e){var t=e.title,a=(e.productName,e.description,e.imageProduct),r=e._id,l=e.availableTickets,c=e.ticketPrice;return n.a.createElement(w.a,{style:{width:300,height:300,margin:50},cover:n.a.createElement("img",{style:{width:300,height:200},alt:"example",src:a}),actions:[n.a.createElement(i.b,{to:"/rifas/".concat(r)},"Details ")]},n.a.createElement(oe,{title:t,description:"$".concat(c," | ").concat(l," boletos")}))},ue=(M.a.Title,M.a.Text,function(){var e=z().user,t=Object(r.useState)([]),a=Object(d.a)(t,2),l=a[0],c=a[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e?n.a.createElement("div",null,n.a.createElement("h1",null,"Mis Rifas"),n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},l.map((function(e){return n.a.createElement(se,Object.assign({key:e.id},e))})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{to:"/login"},n.a.createElement(F.a,null,"Login")))}),me=a(388);function de(e){var t=e._id,a=e.title,l=e.description,c=e.productPrice,i=e.productName,o=e.imageProduct,s=e.ticketPrice,p=e.availableTickets,b=e.ownerID,E=Object(r.useState)({}),h=Object(d.a)(E,2),y=(h[0],h[1],z().user,P.a.useForm()),g=Object(d.a)(y,1)[0],v=Object(r.useState)(null),w=Object(d.a)(v,2),O=w[0],x=w[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),N=C[0],R=C[1];function T(){return(T=Object(m.a)(u.a.mark((function e(a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:O,ownerID:b}),e.next=3,j(t,r);case 3:n=e.sent,n.data,g.resetFields(),x(null);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,x(n),R(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=n.a.createElement("div",null,N?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:g,layout:"vertical",onFinish:function(e){return T.apply(this,arguments)},initialValues:{title:a,description:l,productPrice:c,productName:i,imageProduct:o,ticketPrice:s,availableTickets:p}},n.a.createElement(P.a.Item,{name:"title",label:"Title:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(ne.a,{disabled:!0})),n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return S.apply(this,arguments)}},O?n.a.createElement("img",{src:O,style:{width:"100%"}}):U)),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Save Changes"))}var pe=f.a.create({baseURL:"/api/tickets",withCredentials:!0}),be=function(e){return pe.post("/bought-ticket/".concat(e))},fe=function(){return pe.get("/rifas")},Ee=function(){return pe.get("/winner-rifas")},he=function(){return pe.get("/lost-rifas")},ye=function(e,t){return pe.get("/".concat(e),t)},ge=M.a.Title,ve=M.a.Text,je=function(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],o=l[1],s=z().user,p=Object(r.useState)(!1),b=Object(d.a)(p,2),f=(b[0],b[1],Object(r.useState)(!1)),E=Object(d.a)(f,2),h=E[0],y=E[1],v=Object(r.useState)(!1),j=Object(d.a)(v,2),O=j[0],x=j[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),P=(C[0],C[1],Object(r.useState)(null)),I=Object(d.a)(P,2),N=I[0],R=I[1];Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:a=e.sent,r=a.data,console.log(r),R(!r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a=e.sent,r=a.data,o(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]);var T=!1;function S(){return(S=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,be(t);case 3:x(!O),R(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&c.ownerID===s._id&&(T=!0);var U=c.title,W=c.imageProduct,q=c.description,_=c.productName,D=c.productPrice,L=c.availableTickets;return n.a.createElement("div",{className:"rifa-details"},n.a.createElement(n.a.Fragment,null,U?n.a.createElement(w.a,{style:{width:500,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"solid",borderWidth:2,borderColor:"#0c7489",borderRadius:4},type:"inner",title:U,cover:n.a.createElement("img",{style:{width:300,flex:1,alignSelf:"center"},alt:"example",src:W})},n.a.createElement("center",null,n.a.createElement(ge,{level:4},_),n.a.createElement(ve,null,"Description: ",q),n.a.createElement("br",null),n.a.createElement(ve,null," Ticket Price: ",D),n.a.createElement("br",null),n.a.createElement(ve,null," Available Tickets: ",L),n.a.createElement("br",null),s?n.a.createElement(n.a.Fragment,null,T?n.a.createElement(n.a.Fragment,null,n.a.createElement(F.a,{onClick:function(){return y(!h)}},"Editar"),n.a.createElement("br",null)):n.a.createElement(n.a.Fragment,null,N?n.a.createElement(F.a,{style:{margin:20,color:"white",width:250,backgroundColor:"#0c7489",border:"solid",borderColor:"#0c7489",borderRadius:4},onClick:function(){return function(){return S.apply(this,arguments)}()}},"Comprar Boleto"):n.a.createElement(F.a,{style:{margin:20,color:"#C8C8C8",width:250,backgroundColor:"white",border:"solid",borderColor:"#C8C8C8",borderRadius:4,borderWidth:2},disabled:!0},"Ya compraste un boleto"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement(i.b,{to:"/signup"},n.a.createElement(F.a,{type:"primary"},"Sign up to buy")),n.a.createElement("p",null,"or"),n.a.createElement(i.b,{to:"/login"},n.a.createElement(F.a,{default:!0},"Log in")))),h&&n.a.createElement(de,c)):n.a.createElement(me.a,{active:!0})))};function we(e){var t=e.match.params.rifaId,a=Object(r.useState)({}),l=Object(d.a)(a,2),c=l[0],i=l[1],s=(z().user,P.a.useForm()),p=Object(d.a)(s,1)[0],b=Object(o.f)(),E=Object(r.useState)(null),h=Object(d.a)(E,2),y=h[0],v=h[1],j=Object(r.useState)(null),w=Object(d.a)(j,2),O=w[0],x=w[1];function k(){return(k=Object(m.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(Y.a)(Object(Y.a)({},a),{},{imageProduct:y}),console.log(r),p.resetFields(),v(null),b.push("/rifas/myrifas".concat(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(m.a)(u.a.mark((function e(t){var a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),(a=new FormData).append("file",t),a.append("upload_preset","ml_vaquita"),e.next=6,f.a.post("https://api.cloudinary.com/v1_1/dj9edroyv/image/upload",a);case 6:r=e.sent,n=r.data.secure_url,v(n),x(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a=e.sent,r=a.data,i(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log("RIFA CHECK 2",c);var N=n.a.createElement("div",null,O?n.a.createElement(Z.a,null):n.a.createElement(ee.a,null),n.a.createElement("div",{style:{marginTop:8}},"Upload"));return n.a.createElement(P.a,{form:p,layout:"vertical",onFinish:function(e){return k.apply(this,arguments)},initialValues:{title:c.title,description:c.description,productPrice:c.productPrice,productName:c.productName,imageProduct:c.imageProduct,ticketPrice:c.ticketPrice,availableTickets:c.availableTickets}},n.a.createElement(P.a.Item,{name:"title",label:"Title:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"description",label:"Description:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productName",label:"Product Name:"},n.a.createElement(I.a,null)),n.a.createElement(P.a.Item,{name:"productPrice",label:"Product Price:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"ticketPrice",label:"Ticket Price:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"availableTickets",label:"Available Tickets:"},n.a.createElement(ne.a,null)),n.a.createElement(P.a.Item,{name:"imageProduct",label:"Image:"},n.a.createElement(X.a,{name:"image",showUploadList:!1,beforeUpload:function(e){return C.apply(this,arguments)}},y?n.a.createElement("img",{src:y,style:{width:"100%"}}):N)),n.a.createElement(F.a,{type:"primary",block:!0,size:"middle",htmlType:"submit"},"Create"))}var Oe=a(390),xe=a(380),ke=(M.a.Title,M.a.Text,Oe.a.Panel),Ce=function(){z().user;var e=Object(r.useState)(null),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(null),i=Object(d.a)(c,2),o=i[0],s=i[1],b=Object(r.useState)(null),f=Object(d.a)(b,2),E=f[0],h=f[1];return Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,a=t.data,console.log("NOT FINISHED",a),h(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee();case 2:t=e.sent,(a=t.data).length<1?l(null):l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:t=e.sent,a=t.data,console.log("LOSER RIFAS",a),s(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{style:{margin:"30px"}},n.a.createElement("h1",null,"Mis Tickets"),n.a.createElement(Oe.a,{bordered:!1,defaultActiveKey:["2"]},a&&n.a.createElement(ke,{header:"\xa1Felicidades! Aqu\xed est\xe1n las rifas que has ganado",key:"1"},n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},a.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))})))),n.a.createElement(ke,{header:"Rifas abiertas",key:"2"},E?n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},E.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))):n.a.createElement(xe.a,{size:"large"})),n.a.createElement(ke,{header:"Rifas cerradas",key:"3"},o?n.a.createElement(p.a,{style:{flex:1,justifyContent:"center"},gutter:[16,16],xs:24,sm:24,md:8},o.map((function(e){return n.a.createElement(x,Object.assign({key:e.id},e))}))):n.a.createElement(xe.a,{size:"large"}))))},Pe=a(381),Ie=a(393),Fe=Pe.a.Header,Ne=Pe.a.Content,Re=Pe.a.Footer,Te=function(e){var t=e.children,a=Object(o.f)(),r=z(),l=r.clearCtxUser,c=r.user;function s(){return(s=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:a.push("/login"),l();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement(Pe.a,{className:"layout"},n.a.createElement(Fe,{style:{position:"fixed",height:65.5,zIndex:1e3,width:"100%",backgroundColor:"#8db596"}},n.a.createElement("div",{className:"logo"}),n.a.createElement(Ie.a,{style:{backgroundColor:"#8db596"},mode:"horizontal"},n.a.createElement(Ie.a.Item,{key:"1"},n.a.createElement("img",{style:{width:90},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"}),n.a.createElement(i.b,{to:"/"})),c?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a.Item,{key:"2"},n.a.createElement(i.b,{to:"/profile"},"Perfil")),n.a.createElement(Ie.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/new/rifas"},"Crear Rifa")),n.a.createElement(Ie.a.Item,{key:"4"},n.a.createElement(i.b,{to:"/rifas/myrifas"},"Mis Rifas")),n.a.createElement(Ie.a.Item,{key:"5"},n.a.createElement(i.b,{to:"/tickets/mytickets"},"Mis Tickets")),n.a.createElement(Ie.a.Item,{key:"6",onClick:function(){return s.apply(this,arguments)}},"Logout")):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ie.a.Item,{style:{color:"white"},key:"2"},n.a.createElement(i.b,{to:"/signup"},"Signup")),n.a.createElement(Ie.a.Item,{key:"3"},n.a.createElement(i.b,{to:"/login"},"Login")))),n.a.createElement(Ie.a,{style:{backgroundColor:"#bedbbb"},mode:"horizontal"})),n.a.createElement("br",null),n.a.createElement(Ne,{style:{padding:"50px 0",minHeight:"calc(100vh - 153.6px)"}},n.a.createElement("div",{className:"site-layout-content"},t)),n.a.createElement(Re,{style:{textAlign:"center"}},"Vaquita de la suerte ",n.a.createElement("img",{style:{width:40},src:"https://res.cloudinary.com/dj9edroyv/image/upload/v1607624315/Vaquita/p35w19kaw7nigxkluy8m.png"})," ",n.a.createElement("br",null)," \xa92020 Created by Ayhan Konar & Karen Roth"))},Se=function(){return n.a.createElement(i.a,null,n.a.createElement(Te,null,n.a.createElement(o.c,null,n.a.createElement(o.a,{exact:!0,path:"/",component:k}),n.a.createElement(o.a,{exact:!0,path:"/signup",component:_}),n.a.createElement(o.a,{exact:!0,path:"/login",component:V}),n.a.createElement(o.a,{exact:!0,path:"/profile",component:J}),n.a.createElement(o.a,{exact:!0,path:"/profile/edit/:id",component:ae}),n.a.createElement(o.a,{exact:!0,path:"/new/rifas",component:ie}),n.a.createElement(o.a,{exact:!0,path:"/rifas/myrifas",component:ue}),n.a.createElement(o.a,{exact:!0,path:"/rifas/:rifaId",component:je}),n.a.createElement(o.a,{exact:!0,path:"/rifas/edit/:rifaId",component:we}),n.a.createElement(o.a,{exact:!0,path:"/tickets/mytickets",component:Ce}),n.a.createElement(o.a,{component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(376);c.a.render(n.a.createElement(A,null,n.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[198,1,2]]]);
//# sourceMappingURL=main.12e7e803.chunk.js.map